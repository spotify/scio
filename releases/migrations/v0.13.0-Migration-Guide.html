<!DOCTYPE html>
<html lang="en" class="no-js">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<meta http-equiv="x-ua-compatible" content="ie=edge">
<meta name="description" content="Scio - Documentation">
<meta name="generator" content="Paradox, paradox-material-theme=0.6.0, mkdocs-material=3.0.3">

<meta name="lang:clipboard.copy" content="Copy to clipboard">
<meta name="lang:clipboard.copied" content="Copied to clipboard">
<meta name="lang:search.language" content="">
<meta name="lang:search.pipeline.stopwords" content="true">
<meta name="lang:search.pipeline.trimmer" content="true">
<meta name="lang:search.result.none" content="No matching documents">
<meta name="lang:search.result.one" content="1 matching document">
<meta name="lang:search.result.other" content="# matching documents">
<meta name="lang:search.tokenizer" content="[\s\-]+">


<meta name="description" content="Scio - Documentation">
<link rel="shortcut icon" href="../../images/favicon.ico">
<title>Scio v0.13.0 Â· Scio</title>
<link rel="stylesheet" href="../../assets/stylesheets/application.451f80e5.css">
<link rel="stylesheet" href="../../assets/stylesheets/application-palette.22915126.css">
<link rel="stylesheet" href="../../lib/material__tabs/dist/mdc.tabs.min.css">
<link rel="stylesheet" href="../../lib/prettify/prettify.css">
<script src="../../assets/javascripts/modernizr.1aa3b519.js"></script>
<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,400,400i,700|Roboto+Mono">
<style>
body,input{font-family:"Roboto","Helvetica Neue",Helvetica,Arial,sans-serif}
code,kbd,pre{font-family:"Roboto Mono","Courier New",Courier,monospace}
</style>
<link rel="stylesheet" href="../../assets/fonts/font-awesome.css">
<link rel="stylesheet" href="../../assets/fonts/material-icons.css">
<link rel="stylesheet" href="../../assets/stylesheets/paradox-material-theme.css">
</head>
<body
data-md-color-primary="white"
data-md-color-accent="indigo"
>
<input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
<input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
<label class="md-overlay" data-md-component="overlay" for="__drawer"></label>
<header class="md-header" data-md-component="header">
<nav class="md-header-nav md-grid">
<div class="md-flex">
<div class="md-flex__cell md-flex__cell--shrink">
<a href="../../index.html" title="Scio" class="md-header-nav__button md-logo">
<img src="../../images/logo.png" width="24" height="24">
</a>
</div>
<div class="md-flex__cell md-flex__cell--shrink">
<label class="md-icon md-icon--menu md-header-nav__button" for="__drawer"></label>
</div>
<div class="md-flex__cell md-flex__cell--stretch">
<div class="md-flex__ellipsis md-header-nav__title" data-md-component="title">
<span class="md-header-nav__topic">
Scio
</span>
<span class="md-header-nav__topic">
Scio v0.13.0
</span>
</div>
</div>
<div class="md-flex__cell md-flex__cell--shrink">
<label class="md-icon md-icon--search md-header-nav__button" for="__search"></label>
<div class="md-search" data-md-component="search" role="dialog">
<label class="md-search__overlay" for="__search"></label>
<div class="md-search__inner" role="search">
<form class="md-search__form" name="search">
<input type="text" class="md-search__input" name="query" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="query" data-md-state="active">
<label class="md-icon md-search__icon" for="__search"></label>
<button type="reset" class="md-icon md-search__icon" data-md-component="reset" tabindex="-1">&#xE5CD;</button>
</form>
<div class="md-search__output">
<div class="md-search__scrollwrap" data-md-scrollfix>
<div class="md-search-result" data-md-component="result">
<div class="md-search-result__meta">
Type to start searching
</div>
<ol class="md-search-result__list"></ol>
</div>
</div>
</div>
</div>
</div>

</div>
<div class="md-flex__cell md-flex__cell--shrink">
<div class="md-header-nav__source">
<a href="https://github.com/spotify/scio"
title="Go to repository"
class="md-source"
data-md-source="github">
<div class="md-source__icon">
<i class="fa fa-github"></i>
</div>
<div class="md-source__repository">
spotify/scio
</div>
</a>

</div>
</div>
</div>
</nav>
</header>

<div class="md-container">
<main class="md-main">
<div class="md-main__inner md-grid" data-md-component="container">
<div class="md-sidebar md-sidebar--primary" data-md-component="navigation">
<div class="md-sidebar__scrollwrap">
<div class="md-sidebar__inner">
<nav class="md-nav md-nav--primary" data-md-level="0" style="visibility: hidden">
<label class="md-nav__title md-nav__title--site" for="drawer">
<a href="../../index.html" title="Scio" class="md-nav__button md-logo">
<span class="md-nav__button md-logo">
<img src="../../images/logo.png" width="24" height="24">
</a>
<a href="../../index.html" title="Scio">
Scio
</a>
</label>
<div class="md-nav__source">
<a href="https://github.com/spotify/scio"
title="Go to repository"
class="md-source"
data-md-source="github">
<div class="md-source__icon">
<i class="fa fa-github"></i>
</div>
<div class="md-source__repository">
spotify/scio
</div>
</a>

</div>
<ul>
  <li><a href="../../Getting-Started.html" class="page">Getting Started</a></li>
  <li><a href="../../Builtin.html" class="page">Built-in Functionality</a></li>
  <li><a href="../../Joins.html" class="page">Joins</a></li>
  <li><a href="../../SideInputs.html" class="page">Side Inputs</a></li>
  <li><a href="../../io/index.html" class="page">IO</a>
  <ul>
    <li><a href="../../io/Avro.html" class="page">Avro</a></li>
    <li><a href="../../io/Binary.html" class="page">Binary</a></li>
    <li><a href="../../io/BigQuery.html" class="page">BigQuery</a></li>
    <li><a href="../../io/Bigtable.html" class="page">Bigtable</a></li>
    <li><a href="../../io/Cassandra.html" class="page">Cassandra</a></li>
    <li><a href="../../io/Csv.html" class="page">CSV</a></li>
    <li><a href="../../io/Datastore.html" class="page">Datastore</a></li>
    <li><a href="../../io/Grpc.html" class="page">GRPC</a></li>
    <li><a href="../../io/Elasticsearch.html" class="page">Elasticsearch</a></li>
    <li><a href="../../io/Jdbc.html" class="page">JDBC</a></li>
    <li><a href="../../io/Json.html" class="page">Json</a></li>
    <li><a href="../../io/Neo4J.html" class="page">Neo4J</a></li>
    <li><a href="../../io/Object.html" class="page">Object file</a></li>
    <li><a href="../../io/Parquet.html" class="page">Parquet</a></li>
    <li><a href="../../io/Protobuf.html" class="page">Protobuf</a></li>
    <li><a href="../../io/Pubsub.html" class="page">PubSub</a></li>
    <li><a href="../../io/ReadFiles.html" class="page">ReadFiles</a></li>
    <li><a href="../../io/Redis.html" class="page">Redis</a></li>
    <li><a href="../../io/Spanner.html" class="page">Spanner</a></li>
    <li><a href="../../io/Tensorflow.html" class="page">Tensorflow</a></li>
    <li><a href="../../io/Text.html" class="page">Text</a></li>
  </ul></li>
  <li><a href="../../examples.html" class="page">Examples</a></li>
  <li><a href="../../Scio-Unit-Tests.html" class="page">Testing</a></li>
  <li><a href="../../internals/index.html" class="page">Internals</a>
  <ul>
    <li><a href="../../internals/Coders.html" class="page">Coder Typeclass</a></li>
    <li><a href="../../internals/Kryo.html" class="page">Kryo</a></li>
    <li><a href="../../internals/OverrideTypeProvider.html" class="page">OverrideTypeProvider</a></li>
    <li><a href="../../internals/ScioIO.html" class="page">ScioIO</a></li>
  </ul></li>
  <li><a href="../../extras/index.html" class="page">Extras</a>
  <ul>
    <li><a href="../../extras/Algebird.html" class="page">Algebird</a></li>
    <li><a href="../../extras/Annoy.html" class="page">Annoy</a></li>
    <li><a href="../../extras/AsyncDoFn.html" class="page">AsyncDoFn</a></li>
    <li><a href="../../extras/BigQueryAvro.html" class="page">BigQueryAvro</a></li>
    <li><a href="../../extras/DistCache.html" class="page">DistCache</a></li>
    <li><a href="../../extras/Fanout.html" class="page">Fanout</a></li>
    <li><a href="../../extras/HyperLogLog.html" class="page">HyperLogLog</a></li>
    <li><a href="../../extras/MutableScalableBloomFilter.html" class="page">MutableScalableBloomFilter</a></li>
    <li><a href="../../extras/Sorter.html" class="page">Sorter</a></li>
    <li><a href="../../extras/Sort-Merge-Bucket.html" class="page">Sort Merge Bucket</a></li>
    <li><a href="../../extras/Sparkey.html" class="page">Sparkey</a></li>
    <li><a href="../../extras/Scio-REPL.html" class="page">REPL</a></li>
    <li><a href="../../extras/Transforms.html" class="page">Transforms</a></li>
  </ul></li>
  <li><a href="../../dev/index.html" class="page">Development</a>
  <ul>
    <li><a href="../../dev/build.html" class="page">Build</a></li>
    <li><a href="../../dev/Style-Guide.html" class="page">Style Guide</a></li>
    <li><a href="../../dev/How-to-Release.html" class="page">How to Release</a></li>
    <li><a href="../../dev/Design-Philosophy.html" class="page">Design Philosophy</a></li>
  </ul></li>
  <li><a href="../../scaladoc.html" class="page">Scaladoc</a></li>
  <li><a href="../../Scio,-Scalding-and-Spark.html" class="page">Scio, Spark and Scalding</a></li>
  <li><a href="../../Runners.html" class="page">Runners</a></li>
  <li><a href="../../Scio-data-guideline.html" class="page">Data Guidelines</a></li>
  <li><a href="../../releases/index.html" class="page">Releases</a>
  <ul>
    <li><a href="../../releases/Apache-Beam.html" class="page">Apache Beam Compatibility</a></li>
    <li><a href="../../releases/migrations/index.html" class="page">Migration Guides</a></li>
    <li><a href="../../releases/breaking-changes.html" class="page">Breaking Changelog</a></li>
    <li><a href="../../releases/v0.12.0.html" class="page">v0.12.0 Release Blog</a></li>
  </ul></li>
  <li><a href="../../FAQ.html" class="page">FAQ</a></li>
</ul>
<nav class="md-nav md-nav--secondary">
<label class="md-nav__title" for="__toc">Table of contents</label>
<ul>
  <li><a href="../../releases/migrations/v0.13.0-Migration-Guide.html#scio-v0-13-0" class="header">Scio v0.13.0</a>
  <ul>
    <li><a href="../../releases/migrations/v0.13.0-Migration-Guide.html#gcs-connector-now-explicitly-required" class="header">gcs-connector now explicitly required</a></li>
    <li><a href="../../releases/migrations/v0.13.0-Migration-Guide.html#removed-scio-elasticsearch6" class="header">Removed <code>scio-elasticsearch6</code></a></li>
    <li><a href="../../releases/migrations/v0.13.0-Migration-Guide.html#scio-elasticsearch7-migrated-to-java-client" class="header"><code>scio-elasticsearch7</code> migrated to java client</a></li>
    <li><a href="../../releases/migrations/v0.13.0-Migration-Guide.html#new-file-based-scioio-parameters" class="header">New File based ScioIO parameters</a></li>
    <li><a href="../../releases/migrations/v0.13.0-Migration-Guide.html#kryo-coders-nondeterministic" class="header">Kryo Coders nondeterministic</a></li>
    <li><a href="../../releases/migrations/v0.13.0-Migration-Guide.html#changed-skewedjoin-api" class="header">Changed <code>skewedJoin</code> API</a></li>
    <li><a href="../../releases/migrations/v0.13.0-Migration-Guide.html#tensorflow-unused-predict-type-parameter" class="header">Tensorflow unused predict type parameter</a></li>
  </ul></li>
</ul>
</nav>

</nav>
<ul style="display: none">
<li class="md-nav__item md-version" id="project.version">
<label class="md-nav__link" for="__version">
<i class="md-icon" title="Version">label_outline</i> 0.14.0-dev0+0-4848114d+20230714-1505*
</label>
</li>
</ul>
</div>
</div>
</div>
<div class="md-sidebar md-sidebar--secondary" data-md-component="toc">
<div class="md-sidebar__scrollwrap">
<div class="md-sidebar__inner">
<nav class="md-nav md-nav--secondary">
<label class="md-nav__title" for="__toc">Table of contents</label>
<ul>
  <li><a href="../../releases/migrations/v0.13.0-Migration-Guide.html#scio-v0-13-0" class="header">Scio v0.13.0</a>
  <ul>
    <li><a href="../../releases/migrations/v0.13.0-Migration-Guide.html#gcs-connector-now-explicitly-required" class="header">gcs-connector now explicitly required</a></li>
    <li><a href="../../releases/migrations/v0.13.0-Migration-Guide.html#removed-scio-elasticsearch6" class="header">Removed <code>scio-elasticsearch6</code></a></li>
    <li><a href="../../releases/migrations/v0.13.0-Migration-Guide.html#scio-elasticsearch7-migrated-to-java-client" class="header"><code>scio-elasticsearch7</code> migrated to java client</a></li>
    <li><a href="../../releases/migrations/v0.13.0-Migration-Guide.html#new-file-based-scioio-parameters" class="header">New File based ScioIO parameters</a></li>
    <li><a href="../../releases/migrations/v0.13.0-Migration-Guide.html#kryo-coders-nondeterministic" class="header">Kryo Coders nondeterministic</a></li>
    <li><a href="../../releases/migrations/v0.13.0-Migration-Guide.html#changed-skewedjoin-api" class="header">Changed <code>skewedJoin</code> API</a></li>
    <li><a href="../../releases/migrations/v0.13.0-Migration-Guide.html#tensorflow-unused-predict-type-parameter" class="header">Tensorflow unused predict type parameter</a></li>
  </ul></li>
</ul>
</nav>

</div>
</div>
</div>
<div class="md-content">
<article class="md-content__inner md-typeset">
<div class="md-content__searchable">
<h1><a href="#scio-v0-13-0" name="scio-v0-13-0" class="anchor"><span class="anchor-link"></span></a>Scio v0.13.0</h1>
<h2><a href="#gcs-connector-now-explicitly-required" name="gcs-connector-now-explicitly-required" class="anchor"><span class="anchor-link"></span></a>gcs-connector now explicitly required</h2>
<p>Previously Scio shipped with <code>com.google.cloud.bigdataoss:gcs-connector</code> as part of <code>scio-parquet</code>. This dependency is now removed, so <code>gcs-connector</code> must be explicitly enabled if using parquet on GCS:</p>
<pre><code>val bigdataossVersion = &quot;2.2.6&quot;

libraryDependencies ++= Seq(
  &quot;com.google.cloud.bigdataoss&quot; % &quot;gcs-connector&quot; % s&quot;hadoop2-$bigdataossVersion&quot;
)
</code></pre>
<h2><a href="#removed-scio-elasticsearch6" name="removed-scio-elasticsearch6" class="anchor"><span class="anchor-link"></span></a>Removed <code>scio-elasticsearch6</code></h2>
<p>Please migrate to <code>scio-elasticsearch8</code>.</p>
<h2><a href="#scio-elasticsearch7-migrated-to-java-client" name="scio-elasticsearch7-migrated-to-java-client" class="anchor"><span class="anchor-link"></span></a><code>scio-elasticsearch7</code> migrated to java client</h2>
<p><code>saveAsElasticsearch</code> now requires a transform function returning <code>co.elastic.clients.elasticsearch.core.bulk.BulkOperation</code> instead of <code>org.elasticsearch.action.DocWriteRequest</code>.</p>
<h2><a href="#new-file-based-scioio-parameters" name="new-file-based-scioio-parameters" class="anchor"><span class="anchor-link"></span></a>New File based ScioIO parameters</h2>
<p>File-based IOs now consistently have a <code>suffix</code> parameter. In cases where <code>ReadParam</code> was <code>Unit</code>, then a new param will be required. This is the case for example with <code>AvroIO</code> and <code>GenericRecordIO</code>:</p>
<pre class="prettyprint"><code class="language-diff">- sc.read(GenericRecordIO(path, schema))
+ sc.read(GenericRecordIO(path, schema))(AvroIO.ReadParam(suffix))
- sc.read(SpecificRecordIO[T](path))
+ sc.read(SpecificRecordIO[T](path))(AvroIO.ReadParam(suffix))
</code></pre>
<h2><a href="#kryo-coders-nondeterministic" name="kryo-coders-nondeterministic" class="anchor"><span class="anchor-link"></span></a>Kryo Coders nondeterministic</h2>
<p>Kryo coders in Scio have long been marked as deterministic but users were cautioned to not use them in cases where determinism is important (e.g. with <code>distinct</code> or to encode keys in keyed operations) and when the Kryo coders were not explicitly known to be deterministic. Users who did not understand or follow these instructions could silently produce corrupt data or incomplete results.</p>
<p>Kryo coders are now marked as nondeterministic in all cases and an exception will be thrown if used in keyed operations.</p>
<h2><a href="#changed-skewedjoin-api" name="changed-skewedjoin-api" class="anchor"><span class="anchor-link"></span></a>Changed <code>skewedJoin</code> API</h2>
<p>Removes some variants of <code>skewedJoin</code> APIs with <code>Long</code> threshold parameters. Use the variants with a <code>HotKeyMethod</code> parameter instead, providing <code>HotKeyMethod.Threshold(myThresold)</code> as its value.</p>
<h2><a href="#tensorflow-unused-predict-type-parameter" name="tensorflow-unused-predict-type-parameter" class="anchor"><span class="anchor-link"></span></a>Tensorflow unused predict type parameter</h2>
<p>The Tensorflow <code>predict</code> and <code>predictWithSigDef</code> methods had an unused type parameter that is now removed.</p>
<pre class="prettyprint"><code class="language-diff">- elements.predict[B, D](&quot;gs://model-path&quot;, fetchOpts, options)(toTensors)(fromTensors)
+ elements.predict[B](&quot;gs://model-path&quot;, fetchOpts, options)(toTensors)(fromTensors)
- elements.predictWithSigDef[B, D](&quot;gs://model-path&quot;, options)(toTensors)(fromTensors _)
+ elements.predictWithSigDef[B](&quot;gs://model-path&quot;, options)(toTensors)(fromTensors _)
</code></pre>
</div>
<div>
<a href="https://github.com/spotify/scio/tree/master/site/src/main/paradox/releases/migrations/v0.13.0-Migration-Guide.md" title="Edit this page" class="md-source-file md-edit">
Edit this page
</a>
</div>
<div class="print-only">
<span class="md-source-file md-version">
0.14.0-dev0+0-4848114d+20230714-1505*
</span>
</div>
</article>
</div>
</div>
</main>
<footer class="md-footer">
<div class="md-footer-nav">
<nav class="md-footer-nav__inner md-grid">
<a href="../../releases/migrations/v0.12.0-Migration-Guide.html" title="Scio v0.12.0" class="md-flex md-footer-nav__link md-footer-nav__link--prev" rel="prev">
<div class="md-flex__cell md-flex__cell--shrink">
<i class="md-icon md-icon--arrow-back md-footer-nav__button"></i>
</div>
<div class="md-flex__cell md-flex__cell--stretch md-footer-nav__title">
<span class="md-flex__ellipsis">
<span class="md-footer-nav__direction">
Previous
</span>
Scio v0.12.0
</span>
</div>
</a>
<a href="../../releases/breaking-changes.html" title="Breaking Changelog" class="md-flex md-footer-nav__link md-footer-nav__link--next" rel="next">
<div class="md-flex__cell md-flex__cell--stretch md-footer-nav__title">
<span class="md-flex__ellipsis">
<span class="md-footer-nav__direction">
Next
</span>
Breaking Changelog
</span>
</div>
<div class="md-flex__cell md-flex__cell--shrink">
<i class="md-icon md-icon--arrow-forward md-footer-nav__button"></i>
</div>
</a>
</nav>
</div>
<div class="md-footer-meta md-typeset">
<div class="md-footer-meta__inner md-grid">
<div class="md-footer-copyright">
<div class="md-footer-copyright__highlight">
Copyright (C) 2023 Spotify AB
</div>
Powered by
<a href="https://github.com/lightbend/paradox">Paradox</a>
and
<a href="https://jonas.github.io/paradox-material-theme/">Paradox Material Theme</a>

</div>
<div class="md-footer-social">
<a href="https://github.com/spotify" class="md-footer-social__link fa fa-github"></a><a href="https://twitter.com/spotifyeng" class="md-footer-social__link fa fa-twitter"></a>
</div>

</div>
</div>
</footer>

</div>
<script src="../../assets/javascripts/application.583bbe55.js"></script>
<script src="../../assets/javascripts/paradox-material-theme.js"></script>
<script>app.initialize({version:"0.17",url:{base:"../../."}})</script>
<script type="text/javascript" src="../../lib/prettify/prettify.js"></script>
<script type="text/javascript" src="../../lib/prettify/lang-scala.js"></script>
<script type="text/javascript">
document.addEventListener("DOMContentLoaded", function(event) {
window.prettyPrint && prettyPrint();
});
</script>
</body>
</html>
