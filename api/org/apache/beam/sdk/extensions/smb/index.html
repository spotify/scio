<!DOCTYPE html ><html><head><meta http-equiv="X-UA-Compatible" content="IE=edge"/><meta content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no" name="viewport"/><title></title><meta content="" name="description"/><meta content="" name="keywords"/><meta http-equiv="content-type" content="text/html; charset=UTF-8"/><link href="../../../../../../lib/index.css" media="screen" type="text/css" rel="stylesheet"/><link href="../../../../../../lib/template.css" media="screen" type="text/css" rel="stylesheet"/><link href="../../../../../../lib/print.css" media="print" type="text/css" rel="stylesheet"/><link href="../../../../../../lib/diagrams.css" media="screen" type="text/css" rel="stylesheet" id="diagrams-css"/><script type="text/javascript" src="../../../../../../lib/jquery.min.js"></script><script type="text/javascript" src="../../../../../../lib/index.js"></script><script type="text/javascript" src="../../../../../../index.js"></script><script type="text/javascript" src="../../../../../../lib/scheduler.js"></script><script type="text/javascript" src="../../../../../../lib/template.js"></script><script type="text/javascript">/* this variable can be used by the JS to determine the path to the root document */
var toRoot = '../../../../../../';</script></head><body><div id="search"><span id="doc-title"><span id="doc-version"></span></span> <span class="close-results"><span class="left">&lt;</span> Back</span><div id="textfilter"><span class="input"><input autocapitalize="none" placeholder="Search" id="index-input" type="text" accesskey="/"/><i class="clear material-icons"></i><i id="search-icon" class="material-icons"></i></span></div></div><div id="search-results"><div id="search-progress"><div id="progress-fill"></div></div><div id="results-content"><div id="entity-results"></div><div id="member-results"></div></div></div><div id="content-scroll-container" style="-webkit-overflow-scrolling: touch;"><div id="content-container" style="-webkit-overflow-scrolling: touch;"><div id="subpackage-spacer"><div id="packages"><h1>Packages</h1><ul><li class="indented0 " name="_root_.root" group="Ungrouped" fullComment="yes" data-isabs="false" visbl="pub"><a id="_root_" class="anchorToMember"></a><a id="root:_root_" class="anchorToMember"></a> <span class="permalink"><a href="../../../../../../index.html" title="Permalink"><i class="material-icons"></i></a></span> <span class="modifier_kind"><span class="modifier"></span> <span class="kind">package</span></span> <span class="symbol"><a href="../../../../../../index.html" title=""><span class="name">root</span></a></span><div class="fullcomment"><dl class="attributes block"><dt>Definition Classes</dt><dd><a href="../../../../../../index.html" name="_root_" id="_root_" class="extype">root</a></dd></dl></div></li><li class="indented1 " name="_root_.org" group="Ungrouped" fullComment="yes" data-isabs="false" visbl="pub"><a id="org" class="anchorToMember"></a><a id="org:org" class="anchorToMember"></a> <span class="permalink"><a href="../../../../../../org/index.html" title="Permalink"><i class="material-icons"></i></a></span> <span class="modifier_kind"><span class="modifier"></span> <span class="kind">package</span></span> <span class="symbol"><a href="../../../../../index.html" title=""><span class="name">org</span></a></span><div class="fullcomment"><dl class="attributes block"><dt>Definition Classes</dt><dd><a href="../../../../../../index.html" name="_root_" id="_root_" class="extype">root</a></dd></dl></div></li><li class="indented2 " name="org.apache" group="Ungrouped" fullComment="yes" data-isabs="false" visbl="pub"><a id="apache" class="anchorToMember"></a><a id="apache:apache" class="anchorToMember"></a> <span class="permalink"><a href="../../../../../../org/apache/index.html" title="Permalink"><i class="material-icons"></i></a></span> <span class="modifier_kind"><span class="modifier"></span> <span class="kind">package</span></span> <span class="symbol"><a href="../../../../index.html" title=""><span class="name">apache</span></a></span><div class="fullcomment"><dl class="attributes block"><dt>Definition Classes</dt><dd><a href="../../../../../index.html" name="org" id="org" class="extype">org</a></dd></dl></div></li><li class="indented3 " name="org.apache.beam" group="Ungrouped" fullComment="yes" data-isabs="false" visbl="pub"><a id="beam" class="anchorToMember"></a><a id="beam:beam" class="anchorToMember"></a> <span class="permalink"><a href="../../../../../../org/apache/beam/index.html" title="Permalink"><i class="material-icons"></i></a></span> <span class="modifier_kind"><span class="modifier"></span> <span class="kind">package</span></span> <span class="symbol"><a href="../../../index.html" title=""><span class="name">beam</span></a></span><div class="fullcomment"><dl class="attributes block"><dt>Definition Classes</dt><dd><a href="../../../../index.html" name="org.apache" id="org.apache" class="extype">apache</a></dd></dl></div></li><li class="indented4 " name="org.apache.beam.sdk" group="Ungrouped" fullComment="yes" data-isabs="false" visbl="pub"><a id="sdk" class="anchorToMember"></a><a id="sdk:sdk" class="anchorToMember"></a> <span class="permalink"><a href="../../../../../../org/apache/beam/sdk/index.html" title="Permalink"><i class="material-icons"></i></a></span> <span class="modifier_kind"><span class="modifier"></span> <span class="kind">package</span></span> <span class="symbol"><a href="../../index.html" title=""><span class="name">sdk</span></a></span><div class="fullcomment"><dl class="attributes block"><dt>Definition Classes</dt><dd><a href="../../../index.html" name="org.apache.beam" id="org.apache.beam" class="extype">beam</a></dd></dl></div></li><li class="indented5 " name="org.apache.beam.sdk.extensions" group="Ungrouped" fullComment="yes" data-isabs="false" visbl="pub"><a id="extensions" class="anchorToMember"></a><a id="extensions:extensions" class="anchorToMember"></a> <span class="permalink"><a href="../../../../../../org/apache/beam/sdk/extensions/index.html" title="Permalink"><i class="material-icons"></i></a></span> <span class="modifier_kind"><span class="modifier"></span> <span class="kind">package</span></span> <span class="symbol"><a href="../index.html" title=""><span class="name">extensions</span></a></span><div class="fullcomment"><dl class="attributes block"><dt>Definition Classes</dt><dd><a href="../../index.html" name="org.apache.beam.sdk" id="org.apache.beam.sdk" class="extype">sdk</a></dd></dl></div></li><li class="indented6 current" name="org.apache.beam.sdk.extensions.smb" group="Ungrouped" fullComment="yes" data-isabs="false" visbl="pub"><a id="smb" class="anchorToMember"></a><a id="smb:smb" class="anchorToMember"></a> <span class="permalink"><a href="../../../../../../org/apache/beam/sdk/extensions/smb/index.html" title="Permalink"><i class="material-icons"></i></a></span> <span class="modifier_kind"><span class="modifier"></span> <span class="kind">package</span></span> <span class="symbol"><span class="name">smb</span></span><div class="fullcomment"><dl class="attributes block"><dt>Definition Classes</dt><dd><a href="../index.html" name="org.apache.beam.sdk.extensions" id="org.apache.beam.sdk.extensions" class="extype">extensions</a></dd></dl></div></li><li class="current-entities indented6"><span class="separator"></span> <a href="AvroBucketMetadata.html" title="org.apache.beam.sdk.extensions.smb.BucketMetadata for Avro IndexedRecord records." class="class"></a><a href="AvroBucketMetadata.html" title="org.apache.beam.sdk.extensions.smb.BucketMetadata for Avro IndexedRecord records.">AvroBucketMetadata</a></li><li class="current-entities indented6"><span class="separator"></span> <a href="AvroFileOperations.html" title="org.apache.beam.sdk.extensions.smb.FileOperations implementation for Avro files." class="class"></a><a href="AvroFileOperations.html" title="org.apache.beam.sdk.extensions.smb.FileOperations implementation for Avro files.">AvroFileOperations</a></li><li class="current-entities indented6"><span class="separator"></span> <a href="AvroLogicalTypeSupplier.html" title="" class="class"></a><a href="AvroLogicalTypeSupplier.html" title="">AvroLogicalTypeSupplier</a></li><li class="current-entities indented6"><span class="separator"></span> <a href="AvroSortedBucketIO.html" title="API for reading and writing Avro sorted-bucket files." class="class"></a><a href="AvroSortedBucketIO.html" title="API for reading and writing Avro sorted-bucket files.">AvroSortedBucketIO</a></li><li class="current-entities indented6"><span class="separator"></span> <a href="BucketMetadata.html" title="Represents metadata in a JSON-serializable format to be stored alongside sorted-bucket files in a SortedBucketSink transform, and read/checked for compatibility in a SortedBucketSource transform." class="class"></a><a href="BucketMetadata.html" title="Represents metadata in a JSON-serializable format to be stored alongside sorted-bucket files in a SortedBucketSink transform, and read/checked for compatibility in a SortedBucketSource transform.">BucketMetadata</a></li><li class="current-entities indented6"><span class="separator"></span> <a href="BucketMetadataUtil.html" title="" class="class"></a><a href="BucketMetadataUtil.html" title="">BucketMetadataUtil</a></li><li class="current-entities indented6"><span class="separator"></span> <a href="BucketShardId.html" title="Abstracts bucket and shard id in SortedBucketIO." class="class"></a><a href="BucketShardId.html" title="Abstracts bucket and shard id in SortedBucketIO.">BucketShardId</a></li><li class="current-entities indented6"><span class="separator"></span> <a href="CoGbkResultUtil.html" title="" class="class"></a><a href="CoGbkResultUtil.html" title="">CoGbkResultUtil</a></li><li class="current-entities indented6"><span class="separator"></span> <a href="FileOperations.html" title="Abstracts IO operations for file-based formats." class="class"></a><a href="FileOperations.html" title="Abstracts IO operations for file-based formats.">FileOperations</a></li><li class="current-entities indented6"><span class="separator"></span> <a href="JsonBucketMetadata.html" title="org.apache.beam.sdk.extensions.smb.BucketMetadata for BigQuery TableRow JSON records." class="class"></a><a href="JsonBucketMetadata.html" title="org.apache.beam.sdk.extensions.smb.BucketMetadata for BigQuery TableRow JSON records.">JsonBucketMetadata</a></li><li class="current-entities indented6"><span class="separator"></span> <a href="JsonFileOperations.html" title="org.apache.beam.sdk.extensions.smb.FileOperations implementation for text files with BigQuery TableRow JSON records." class="class"></a><a href="JsonFileOperations.html" title="org.apache.beam.sdk.extensions.smb.FileOperations implementation for text files with BigQuery TableRow JSON records.">JsonFileOperations</a></li><li class="current-entities indented6"><span class="separator"></span> <a href="JsonSortedBucketIO.html" title="API for reading and writing BigQuery TableRow JSON sorted-bucket files." class="class"></a><a href="JsonSortedBucketIO.html" title="API for reading and writing BigQuery TableRow JSON sorted-bucket files.">JsonSortedBucketIO</a></li><li class="current-entities indented6"><span class="separator"></span> <a href="MissingImplementationException.html" title="" class="class"></a><a href="MissingImplementationException.html" title="">MissingImplementationException</a></li><li class="current-entities indented6"><span class="separator"></span> <a href="MultiSourceKeyGroupReader.html" title="" class="class"></a><a href="MultiSourceKeyGroupReader.html" title="">MultiSourceKeyGroupReader</a></li><li class="current-entities indented6"><span class="separator"></span> <a href="ParquetAvroFileOperations.html" title="org.apache.beam.sdk.extensions.smb.FileOperations implementation for Parquet files with Avro records." class="class"></a><a href="ParquetAvroFileOperations.html" title="org.apache.beam.sdk.extensions.smb.FileOperations implementation for Parquet files with Avro records.">ParquetAvroFileOperations</a></li><li class="current-entities indented6"><span class="separator"></span> <a href="ParquetAvroSortedBucketIO.html" title="API for reading and writing Parquet sorted-bucket files as Avro." class="class"></a><a href="ParquetAvroSortedBucketIO.html" title="API for reading and writing Parquet sorted-bucket files as Avro.">ParquetAvroSortedBucketIO</a></li><li class="current-entities indented6"><span class="separator"></span> <a href="ParquetBucketMetadata.html" title="" class="class"></a><a href="ParquetBucketMetadata.html" title="">ParquetBucketMetadata</a></li><li class="current-entities indented6"><span class="separator"></span> <a href="ParquetInputFile.html" title="" class="class"></a><a href="ParquetInputFile.html" title="">ParquetInputFile</a></li><li class="current-entities indented6"><span class="separator"></span> <a href="ParquetOutputFile.html" title="" class="class"></a><a href="ParquetOutputFile.html" title="">ParquetOutputFile</a></li><li class="current-entities indented6"><a href="ParquetTypeFileOperations$.html" title="" class="object"></a> <a href="ParquetTypeFileOperations.html" title="" class="class"></a><a href="ParquetTypeFileOperations.html" title="">ParquetTypeFileOperations</a></li><li class="current-entities indented6"><span class="separator"></span> <a href="ParquetTypeSortedBucketIO$.html" title="" class="object"></a><a href="ParquetTypeSortedBucketIO$.html" title="">ParquetTypeSortedBucketIO</a></li><li class="current-entities indented6"><span class="separator"></span> <a href="SMBFilenamePolicy.html" title="Naming policy for SMB files, similar to org.apache.beam.sdk.io.FileBasedSink.FilenamePolicy." class="class"></a><a href="SMBFilenamePolicy.html" title="Naming policy for SMB files, similar to org.apache.beam.sdk.io.FileBasedSink.FilenamePolicy.">SMBFilenamePolicy</a></li><li class="current-entities indented6"><span class="separator"></span> <a href="SortedBucketIO.html" title="Sorted-bucket files are PCollections written with SortedBucketSink that can be efficiently merged without shuffling with SortedBucketSource." class="class"></a><a href="SortedBucketIO.html" title="Sorted-bucket files are PCollections written with SortedBucketSink that can be efficiently merged without shuffling with SortedBucketSource.">SortedBucketIO</a></li><li class="current-entities indented6"><span class="separator"></span> <a href="SortedBucketOptions.html" title="" class="trait"></a><a href="SortedBucketOptions.html" title="">SortedBucketOptions</a></li><li class="current-entities indented6"><span class="separator"></span> <a href="SortedBucketOptionsRegistrar.html" title="" class="class"></a><a href="SortedBucketOptionsRegistrar.html" title="">SortedBucketOptionsRegistrar</a></li><li class="current-entities indented6"><span class="separator"></span> <a href="SortedBucketPrimaryAndSecondaryKeyedSource.html" title="" class="class"></a><a href="SortedBucketPrimaryAndSecondaryKeyedSource.html" title="">SortedBucketPrimaryAndSecondaryKeyedSource</a></li><li class="current-entities indented6"><span class="separator"></span> <a href="SortedBucketPrimaryKeyedSource.html" title="" class="class"></a><a href="SortedBucketPrimaryKeyedSource.html" title="">SortedBucketPrimaryKeyedSource</a></li><li class="current-entities indented6"><span class="separator"></span> <a href="SortedBucketSink.html" title="A PTransform for writing a PCollection to file-based sink, where files represent &quot;buckets&quot; of elements deterministically assigned by BucketMetadata based on a key extraction function." class="class"></a><a href="SortedBucketSink.html" title="A PTransform for writing a PCollection to file-based sink, where files represent &quot;buckets&quot; of elements deterministically assigned by BucketMetadata based on a key extraction function.">SortedBucketSink</a></li><li class="current-entities indented6"><span class="separator"></span> <a href="SortedBucketSource.html" title="A PTransform for co-grouping sources written using compatible SortedBucketSink transforms." class="class"></a><a href="SortedBucketSource.html" title="A PTransform for co-grouping sources written using compatible SortedBucketSink transforms.">SortedBucketSource</a></li><li class="current-entities indented6"><span class="separator"></span> <a href="SortedBucketTransform.html" title="A PTransform that encapsulates both a SortedBucketSource and SortedBucketSink operation, with a user-supplied transform function mapping merged CoGbkResults to their final writable outputs." class="class"></a><a href="SortedBucketTransform.html" title="A PTransform that encapsulates both a SortedBucketSource and SortedBucketSink operation, with a user-supplied transform function mapping merged CoGbkResults to their final writable outputs.">SortedBucketTransform</a></li><li class="current-entities indented6"><span class="separator"></span> <a href="TFRecordCodec.html" title="Codec for TFRecords file format." class="class"></a><a href="TFRecordCodec.html" title="Codec for TFRecords file format.">TFRecordCodec</a></li><li class="current-entities indented6"><span class="separator"></span> <a href="TargetParallelism.html" title="Represents the desired parallelism of an SMB read operation." class="class"></a><a href="TargetParallelism.html" title="Represents the desired parallelism of an SMB read operation.">TargetParallelism</a></li><li class="current-entities indented6"><span class="separator"></span> <a href="TensorFlowBucketIO.html" title="API for reading and writing sorted-bucket TensorFlow TFRecord files with TensorFlow Example records." class="class"></a><a href="TensorFlowBucketIO.html" title="API for reading and writing sorted-bucket TensorFlow TFRecord files with TensorFlow Example records.">TensorFlowBucketIO</a></li><li class="current-entities indented6"><span class="separator"></span> <a href="TensorFlowBucketMetadata.html" title="BucketMetadata for TensorFlow Example records." class="class"></a><a href="TensorFlowBucketMetadata.html" title="BucketMetadata for TensorFlow Example records.">TensorFlowBucketMetadata</a></li><li class="current-entities indented6"><span class="separator"></span> <a href="TensorFlowFileOperations.html" title="org.apache.beam.sdk.extensions.smb.FileOperations implementation for TensorFlow TFRecord files with TensorFlow Example records." class="class"></a><a href="TensorFlowFileOperations.html" title="org.apache.beam.sdk.extensions.smb.FileOperations implementation for TensorFlow TFRecord files with TensorFlow Example records.">TensorFlowFileOperations</a></li><li class="indented6 " name="org.apache.beam.sdk.extensions.sorter" group="Ungrouped" fullComment="yes" data-isabs="false" visbl="pub"><a id="sorter" class="anchorToMember"></a><a id="sorter:sorter" class="anchorToMember"></a> <span class="permalink"><a href="../../../../../../org/apache/beam/sdk/extensions/sorter/index.html" title="Permalink"><i class="material-icons"></i></a></span> <span class="modifier_kind"><span class="modifier"></span> <span class="kind">package</span></span> <span class="symbol"><a href="../sorter/index.html" title=""><span class="name">sorter</span></a></span><div class="fullcomment"><dl class="attributes block"><dt>Definition Classes</dt><dd><a href="../index.html" name="org.apache.beam.sdk.extensions" id="org.apache.beam.sdk.extensions" class="extype">extensions</a></dd></dl></div></li></ul></div></div><div id="content"><body class="package value"><div id="definition"><div class="big-circle package">p</div><p id="owner"><a href="../../../../../index.html" name="org" id="org" class="extype">org</a>.<a href="../../../../index.html" name="org.apache" id="org.apache" class="extype">apache</a>.<a href="../../../index.html" name="org.apache.beam" id="org.apache.beam" class="extype">beam</a>.<a href="../../index.html" name="org.apache.beam.sdk" id="org.apache.beam.sdk" class="extype">sdk</a>.<a href="../index.html" name="org.apache.beam.sdk.extensions" id="org.apache.beam.sdk.extensions" class="extype">extensions</a></p><h1>smb<span class="permalink"><a href="../../../../../../org/apache/beam/sdk/extensions/smb/index.html" title="Permalink"><i class="material-icons"></i></a></span></h1></div><h4 id="signature" class="signature"><span class="modifier_kind"><span class="modifier"></span> <span class="kind">package</span></span> <span class="symbol"><span class="name">smb</span></span></h4><div id="comment" class="fullcommenttop"></div><div id="mbrsel"><div class="toggle"></div><div id="memberfilter"><i class="material-icons arrow"></i><span class="input"><input placeholder="Filter all members" id="mbrsel-input" type="text" accesskey="/"/></span><i class="clear material-icons"></i></div><div id="filterby"><div id="order"><span class="filtertype">Ordering</span><ol><li class="alpha in"><span>Alphabetic</span></li></ol></div><div id="visbl"><span class="filtertype">Visibility</span><ol><li class="public in"><span>Public</span></li><li class="protected out"><span>Protected</span></li></ol></div></div></div><div id="template"><div id="allMembers"><div id="types" class="types members"><h3>Type Members</h3><ol><li class="indented0 " name="org.apache.beam.sdk.extensions.smb.AvroBucketMetadata" group="Ungrouped" fullComment="no" data-isabs="false" visbl="pub"><a id="AvroBucketMetadata[K1,K2,V&lt;:org.apache.avro.generic.IndexedRecord]extendsBucketMetadata[K1,K2,V]" class="anchorToMember"></a><a id="AvroBucketMetadata[K1,K2,V&lt;:IndexedRecord]:AvroBucketMetadata[K1,K2,V]" class="anchorToMember"></a> <span class="permalink"><a href="../../../../../../org/apache/beam/sdk/extensions/smb/AvroBucketMetadata.html" title="Permalink"><i class="material-icons"></i></a></span> <span class="modifier_kind"><span class="modifier"></span> <span class="kind">class</span></span> <span class="symbol"><a href="AvroBucketMetadata.html" title="org.apache.beam.sdk.extensions.smb.BucketMetadata for Avro IndexedRecord records."><span class="name">AvroBucketMetadata</span></a><span class="tparams">[<span name="K1">K1</span>, <span name="K2">K2</span>, <span name="V">V &lt;: <a href="https://javadoc.io/page/org.apache.avro/avro/1.8.2/org/apache/avro/generic/IndexedRecord.html#org.apache.avro.generic.IndexedRecord" name="org.apache.avro.generic.IndexedRecord" id="org.apache.avro.generic.IndexedRecord" class="extype">IndexedRecord</a></span>]</span><span class="result"> extends <a href="BucketMetadata.html" name="org.apache.beam.sdk.extensions.smb.BucketMetadata" id="org.apache.beam.sdk.extensions.smb.BucketMetadata" class="extype">BucketMetadata</a>[<span name="org.apache.beam.sdk.extensions.smb.AvroBucketMetadata.K1" class="extype">K1</span>, <span name="org.apache.beam.sdk.extensions.smb.AvroBucketMetadata.K2" class="extype">K2</span>, <span name="org.apache.beam.sdk.extensions.smb.AvroBucketMetadata.V" class="extype">V</span>]</span></span><p class="shortcomment cmt"><code><a href="BucketMetadata.html" name="org.apache.beam.sdk.extensions.smb.BucketMetadata" id="org.apache.beam.sdk.extensions.smb.BucketMetadata" class="extype">org.apache.beam.sdk.extensions.smb.BucketMetadata</a></code> for Avro <code><span name="IndexedRecord" class="extype">IndexedRecord</span></code> records.</p></li><li class="indented0 " name="org.apache.beam.sdk.extensions.smb.AvroFileOperations" group="Ungrouped" fullComment="no" data-isabs="false" visbl="pub"><a id="AvroFileOperations[ValueT]extendsFileOperations[ValueT]" class="anchorToMember"></a><a id="AvroFileOperations[ValueT]:AvroFileOperations[ValueT]" class="anchorToMember"></a> <span class="permalink"><a href="../../../../../../org/apache/beam/sdk/extensions/smb/AvroFileOperations.html" title="Permalink"><i class="material-icons"></i></a></span> <span class="modifier_kind"><span class="modifier"></span> <span class="kind">class</span></span> <span class="symbol"><a href="AvroFileOperations.html" title="org.apache.beam.sdk.extensions.smb.FileOperations implementation for Avro files."><span class="name">AvroFileOperations</span></a><span class="tparams">[<span name="ValueT">ValueT</span>]</span><span class="result"> extends <a href="FileOperations.html" name="org.apache.beam.sdk.extensions.smb.FileOperations" id="org.apache.beam.sdk.extensions.smb.FileOperations" class="extype">FileOperations</a>[<span name="org.apache.beam.sdk.extensions.smb.AvroFileOperations.ValueT" class="extype">ValueT</span>]</span></span><p class="shortcomment cmt"><code><a href="FileOperations.html" name="org.apache.beam.sdk.extensions.smb.FileOperations" id="org.apache.beam.sdk.extensions.smb.FileOperations" class="extype">org.apache.beam.sdk.extensions.smb.FileOperations</a></code> implementation for Avro files.</p></li><li class="indented0 " name="org.apache.beam.sdk.extensions.smb.AvroLogicalTypeSupplier" group="Ungrouped" fullComment="no" data-isabs="false" visbl="pub"><a id="AvroLogicalTypeSupplierextendsSpecificDataSupplier" class="anchorToMember"></a><a id="AvroLogicalTypeSupplier:AvroLogicalTypeSupplier" class="anchorToMember"></a> <span class="permalink"><a href="../../../../../../org/apache/beam/sdk/extensions/smb/AvroLogicalTypeSupplier.html" title="Permalink"><i class="material-icons"></i></a></span> <span class="modifier_kind"><span class="modifier"></span> <span class="kind">class</span></span> <span class="symbol"><a href="AvroLogicalTypeSupplier.html" title=""><span class="name">AvroLogicalTypeSupplier</span></a><span class="result"> extends <a href="https://javadoc.io/page/org.apache.parquet/parquet-avro/1.12.3/org/apache/parquet/avro/SpecificDataSupplier.html#org.apache.parquet.avro.SpecificDataSupplier" name="org.apache.parquet.avro.SpecificDataSupplier" id="org.apache.parquet.avro.SpecificDataSupplier" class="extype">SpecificDataSupplier</a></span></span></li><li class="indented0 " name="org.apache.beam.sdk.extensions.smb.AvroSortedBucketIO" group="Ungrouped" fullComment="no" data-isabs="false" visbl="pub"><a id="AvroSortedBucketIOextendsObject" class="anchorToMember"></a><a id="AvroSortedBucketIO:AvroSortedBucketIO" class="anchorToMember"></a> <span class="permalink"><a href="../../../../../../org/apache/beam/sdk/extensions/smb/AvroSortedBucketIO.html" title="Permalink"><i class="material-icons"></i></a></span> <span class="modifier_kind"><span class="modifier"></span> <span class="kind">class</span></span> <span class="symbol"><a href="AvroSortedBucketIO.html" title="API for reading and writing Avro sorted-bucket files."><span class="name">AvroSortedBucketIO</span></a><span class="result"> extends <a href="../../../../../../scala/index.html#AnyRef=Object" name="scala.AnyRef" id="scala.AnyRef" class="extmbr">AnyRef</a></span></span><p class="shortcomment cmt">API for reading and writing Avro sorted-bucket files.</p></li><li class="indented0 " name="org.apache.beam.sdk.extensions.smb.BucketMetadata" group="Ungrouped" fullComment="yes" data-isabs="true" visbl="pub"><a id="BucketMetadata[K1,K2,V]extendsSerializablewithHasDisplayData" class="anchorToMember"></a><a id="BucketMetadata[K1,K2,V]:BucketMetadata[K1,K2,V]" class="anchorToMember"></a> <span class="permalink"><a href="../../../../../../org/apache/beam/sdk/extensions/smb/BucketMetadata.html" title="Permalink"><i class="material-icons"></i></a></span> <span class="modifier_kind"><span class="modifier">abstract </span> <span class="kind">class</span></span> <span class="symbol"><a href="BucketMetadata.html" title="Represents metadata in a JSON-serializable format to be stored alongside sorted-bucket files in a SortedBucketSink transform, and read/checked for compatibility in a SortedBucketSource transform."><span class="name">BucketMetadata</span></a><span class="tparams">[<span name="K1">K1</span>, <span name="K2">K2</span>, <span name="V">V</span>]</span><span class="result"> extends <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java/io/Serializable.html#java.io.Serializable" name="java.io.Serializable" id="java.io.Serializable" class="extype">Serializable</a> with <a href="https://javadoc.io/page/org.apache.beam/beam-sdks-java-core/2.51.0/org/apache/beam/sdk/transforms/display/HasDisplayData.html#org.apache.beam.sdk.transforms.display.HasDisplayData" name="org.apache.beam.sdk.transforms.display.HasDisplayData" id="org.apache.beam.sdk.transforms.display.HasDisplayData" class="extype">HasDisplayData</a></span></span><p class="shortcomment cmt">Represents metadata in a JSON-serializable format to be stored alongside sorted-bucket files in a
<code><a href="SortedBucketSink.html" name="org.apache.beam.sdk.extensions.smb.SortedBucketSink" id="org.apache.beam.sdk.extensions.smb.SortedBucketSink" class="extype">SortedBucketSink</a></code> transform, and read/checked for compatibility in a <code><span name="" class="extype">SortedBucketSource</span></code> transform.</p><div class="fullcomment"><div class="comment cmt"><p>Represents metadata in a JSON-serializable format to be stored alongside sorted-bucket files in a
<code><a href="SortedBucketSink.html" name="org.apache.beam.sdk.extensions.smb.SortedBucketSink" id="org.apache.beam.sdk.extensions.smb.SortedBucketSink" class="extype">SortedBucketSink</a></code> transform, and read/checked for compatibility in a <code><span name="" class="extype">SortedBucketSource</span></code> transform.</p><h5> Key encoding </h5><p><code><a href="BucketMetadata.html" name="org.apache.beam.sdk.extensions.smb.BucketMetadata" id="org.apache.beam.sdk.extensions.smb.BucketMetadata" class="extype">BucketMetadata</a></code> controls over how values <code><V></code> are mapped to a key type <code>
<K1></code> (see: `[[#extractKeyPrimary(Object)]]`) and <code><K2></code> (see: `[[
#extractKeySecondary(Object)]]`), and how those bytes are encoded into <code>byte[]</code> (see: `[[
#getKeyBytesPrimary(Object)]]`, `[[#getKeyBytesSecondary(Object)]]`). Therefore, in order for two
sources to be compatible in a `[[SortedBucketSource]]` transform, the `[[#keyClass]]` does
not have to be the same, as long as the final byte encoding is equivalent. A `[[
#coderOverrides()]]` method is provided for any encoding overrides: for example, in Avro sources
the `[[CharSequence]]` type should be encoded as a UTF-8 string.
</p></div><dl class="attributes block"><dt>Annotations</dt><dd><span class="name">@JsonTypeInfo</span><span class="args">()</span> </dd></dl></div></li><li class="indented0 " name="org.apache.beam.sdk.extensions.smb.BucketMetadataUtil" group="Ungrouped" fullComment="no" data-isabs="false" visbl="pub"><a id="BucketMetadataUtilextendsObject" class="anchorToMember"></a><a id="BucketMetadataUtil:BucketMetadataUtil" class="anchorToMember"></a> <span class="permalink"><a href="../../../../../../org/apache/beam/sdk/extensions/smb/BucketMetadataUtil.html" title="Permalink"><i class="material-icons"></i></a></span> <span class="modifier_kind"><span class="modifier"></span> <span class="kind">class</span></span> <span class="symbol"><a href="BucketMetadataUtil.html" title=""><span class="name">BucketMetadataUtil</span></a><span class="result"> extends <a href="../../../../../../scala/index.html#AnyRef=Object" name="scala.AnyRef" id="scala.AnyRef" class="extmbr">AnyRef</a></span></span></li><li class="indented0 " name="org.apache.beam.sdk.extensions.smb.BucketShardId" group="Ungrouped" fullComment="yes" data-isabs="true" visbl="pub"><a id="BucketShardIdextendsObject" class="anchorToMember"></a><a id="BucketShardId:BucketShardId" class="anchorToMember"></a> <span class="permalink"><a href="../../../../../../org/apache/beam/sdk/extensions/smb/BucketShardId.html" title="Permalink"><i class="material-icons"></i></a></span> <span class="modifier_kind"><span class="modifier">abstract </span> <span class="kind">class</span></span> <span class="symbol"><a href="BucketShardId.html" title="Abstracts bucket and shard id in SortedBucketIO."><span class="name">BucketShardId</span></a><span class="result"> extends <a href="../../../../../../scala/index.html#AnyRef=Object" name="scala.AnyRef" id="scala.AnyRef" class="extmbr">AnyRef</a></span></span><p class="shortcomment cmt">Abstracts bucket and shard id in <code><a href="SortedBucketIO.html" name="org.apache.beam.sdk.extensions.smb.SortedBucketIO" id="org.apache.beam.sdk.extensions.smb.SortedBucketIO" class="extype">SortedBucketIO</a></code>.</p><div class="fullcomment"><div class="comment cmt"><p>Abstracts bucket and shard id in <code><a href="SortedBucketIO.html" name="org.apache.beam.sdk.extensions.smb.SortedBucketIO" id="org.apache.beam.sdk.extensions.smb.SortedBucketIO" class="extype">SortedBucketIO</a></code>.</p><h5> Null keys </h5><p>Null keys are assigned a bucket ID of -1, separate from the rest of the bucketed data. Note
that this does not necessarily reflect the final filename: <code><a href="SMBFilenamePolicy.html" name="org.apache.beam.sdk.extensions.smb.SMBFilenamePolicy" id="org.apache.beam.sdk.extensions.smb.SMBFilenamePolicy" class="extype">SMBFilenamePolicy</a></code> can
special-case this bucket ID.
</p></div><dl class="attributes block"><dt>Annotations</dt><dd><span class="name">@AutoValue</span><span class="args">()</span> </dd></dl></div></li><li class="indented0 " name="org.apache.beam.sdk.extensions.smb.CoGbkResultUtil" group="Ungrouped" fullComment="yes" data-isabs="false" visbl="pub"><a id="CoGbkResultUtilextendsObject" class="anchorToMember"></a><a id="CoGbkResultUtil:CoGbkResultUtil" class="anchorToMember"></a> <span class="permalink"><a href="../../../../../../org/apache/beam/sdk/extensions/smb/CoGbkResultUtil.html" title="Permalink"><i class="material-icons"></i></a></span> <span class="modifier_kind"><span class="modifier"></span> <span class="kind">class</span></span> <span class="symbol"><a href="CoGbkResultUtil.html" title=""><span class="name">CoGbkResultUtil</span></a><span class="result"> extends <a href="../../../../../../scala/index.html#AnyRef=Object" name="scala.AnyRef" id="scala.AnyRef" class="extmbr">AnyRef</a></span></span><div class="fullcomment"><dl class="attributes block"><dt>Annotations</dt><dd><span class="name">@<a href="../../../../../../com/spotify/scio/smb/annotations/PatchedFromBeam.html" name="com.spotify.scio.smb.annotations.PatchedFromBeam" id="com.spotify.scio.smb.annotations.PatchedFromBeam" class="extype">PatchedFromBeam</a></span><span class="args">()</span> </dd></dl></div></li><li class="indented0 " name="org.apache.beam.sdk.extensions.smb.FileOperations" group="Ungrouped" fullComment="yes" data-isabs="true" visbl="pub"><a id="FileOperations[V]extendsSerializablewithHasDisplayData" class="anchorToMember"></a><a id="FileOperations[V]:FileOperations[V]" class="anchorToMember"></a> <span class="permalink"><a href="../../../../../../org/apache/beam/sdk/extensions/smb/FileOperations.html" title="Permalink"><i class="material-icons"></i></a></span> <span class="modifier_kind"><span class="modifier">abstract </span> <span class="kind">class</span></span> <span class="symbol"><a href="FileOperations.html" title="Abstracts IO operations for file-based formats."><span class="name">FileOperations</span></a><span class="tparams">[<span name="V">V</span>]</span><span class="result"> extends <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java/io/Serializable.html#java.io.Serializable" name="java.io.Serializable" id="java.io.Serializable" class="extype">Serializable</a> with <a href="https://javadoc.io/page/org.apache.beam/beam-sdks-java-core/2.51.0/org/apache/beam/sdk/transforms/display/HasDisplayData.html#org.apache.beam.sdk.transforms.display.HasDisplayData" name="org.apache.beam.sdk.transforms.display.HasDisplayData" id="org.apache.beam.sdk.transforms.display.HasDisplayData" class="extype">HasDisplayData</a></span></span><p class="shortcomment cmt">Abstracts IO operations for file-based formats.</p><div class="fullcomment"><div class="comment cmt"><p>Abstracts IO operations for file-based formats.</p><p>Since the SMB algorithm doesn't support <code><a href="https://javadoc.io/page/org.apache.beam/beam-sdks-java-core/2.51.0/org/apache/beam/sdk/io/Source.html" name="org.apache.beam.sdk.io.Source" id="org.apache.beam.sdk.io.Source" class="extype">org.apache.beam.sdk.io.Source</a></code> splitting, I/O
operations must be abstracted at a per-record granularity. <code><span name="Reader" class="extype">Reader</span></code> and <code><span name="Writer" class="extype">Writer</span></code> must
be <code><span name="Serializable" class="extype">Serializable</span></code> to be used in <code><a href="SortedBucketSource.html" name="org.apache.beam.sdk.extensions.smb.SortedBucketSource" id="org.apache.beam.sdk.extensions.smb.SortedBucketSource" class="extype">SortedBucketSource</a></code> and <code><a href="SortedBucketSink.html" name="org.apache.beam.sdk.extensions.smb.SortedBucketSink" id="org.apache.beam.sdk.extensions.smb.SortedBucketSink" class="extype">SortedBucketSink</a></code>
transforms.
</p></div></div></li><li class="indented0 " name="org.apache.beam.sdk.extensions.smb.JsonBucketMetadata" group="Ungrouped" fullComment="no" data-isabs="false" visbl="pub"><a id="JsonBucketMetadata[K1,K2]extendsBucketMetadata[K1,K2,com.google.api.services.bigquery.model.TableRow]" class="anchorToMember"></a><a id="JsonBucketMetadata[K1,K2]:JsonBucketMetadata[K1,K2]" class="anchorToMember"></a> <span class="permalink"><a href="../../../../../../org/apache/beam/sdk/extensions/smb/JsonBucketMetadata.html" title="Permalink"><i class="material-icons"></i></a></span> <span class="modifier_kind"><span class="modifier"></span> <span class="kind">class</span></span> <span class="symbol"><a href="JsonBucketMetadata.html" title="org.apache.beam.sdk.extensions.smb.BucketMetadata for BigQuery TableRow JSON records."><span class="name">JsonBucketMetadata</span></a><span class="tparams">[<span name="K1">K1</span>, <span name="K2">K2</span>]</span><span class="result"> extends <a href="BucketMetadata.html" name="org.apache.beam.sdk.extensions.smb.BucketMetadata" id="org.apache.beam.sdk.extensions.smb.BucketMetadata" class="extype">BucketMetadata</a>[<span name="org.apache.beam.sdk.extensions.smb.JsonBucketMetadata.K1" class="extype">K1</span>, <span name="org.apache.beam.sdk.extensions.smb.JsonBucketMetadata.K2" class="extype">K2</span>, <a href="https://javadoc.io/page/com.google.apis/google-api-services-bigquery/v2-rev20230520-2.0.0/com/google/api/services/bigquery/model/TableRow.html#com.google.api.services.bigquery.model.TableRow" name="com.google.api.services.bigquery.model.TableRow" id="com.google.api.services.bigquery.model.TableRow" class="extype">TableRow</a>]</span></span><p class="shortcomment cmt"><code><a href="BucketMetadata.html" name="org.apache.beam.sdk.extensions.smb.BucketMetadata" id="org.apache.beam.sdk.extensions.smb.BucketMetadata" class="extype">org.apache.beam.sdk.extensions.smb.BucketMetadata</a></code> for BigQuery <code><span name="TableRow" class="extype">TableRow</span></code> JSON
records.</p></li><li class="indented0 " name="org.apache.beam.sdk.extensions.smb.JsonFileOperations" group="Ungrouped" fullComment="no" data-isabs="false" visbl="pub"><a id="JsonFileOperationsextendsFileOperations[com.google.api.services.bigquery.model.TableRow]" class="anchorToMember"></a><a id="JsonFileOperations:JsonFileOperations" class="anchorToMember"></a> <span class="permalink"><a href="../../../../../../org/apache/beam/sdk/extensions/smb/JsonFileOperations.html" title="Permalink"><i class="material-icons"></i></a></span> <span class="modifier_kind"><span class="modifier"></span> <span class="kind">class</span></span> <span class="symbol"><a href="JsonFileOperations.html" title="org.apache.beam.sdk.extensions.smb.FileOperations implementation for text files with BigQuery TableRow JSON records."><span class="name">JsonFileOperations</span></a><span class="result"> extends <a href="FileOperations.html" name="org.apache.beam.sdk.extensions.smb.FileOperations" id="org.apache.beam.sdk.extensions.smb.FileOperations" class="extype">FileOperations</a>[<a href="https://javadoc.io/page/com.google.apis/google-api-services-bigquery/v2-rev20230520-2.0.0/com/google/api/services/bigquery/model/TableRow.html#com.google.api.services.bigquery.model.TableRow" name="com.google.api.services.bigquery.model.TableRow" id="com.google.api.services.bigquery.model.TableRow" class="extype">TableRow</a>]</span></span><p class="shortcomment cmt"><code><a href="FileOperations.html" name="org.apache.beam.sdk.extensions.smb.FileOperations" id="org.apache.beam.sdk.extensions.smb.FileOperations" class="extype">org.apache.beam.sdk.extensions.smb.FileOperations</a></code> implementation for text files with
BigQuery <code><span name="TableRow" class="extype">TableRow</span></code> JSON records.</p></li><li class="indented0 " name="org.apache.beam.sdk.extensions.smb.JsonSortedBucketIO" group="Ungrouped" fullComment="no" data-isabs="false" visbl="pub"><a id="JsonSortedBucketIOextendsObject" class="anchorToMember"></a><a id="JsonSortedBucketIO:JsonSortedBucketIO" class="anchorToMember"></a> <span class="permalink"><a href="../../../../../../org/apache/beam/sdk/extensions/smb/JsonSortedBucketIO.html" title="Permalink"><i class="material-icons"></i></a></span> <span class="modifier_kind"><span class="modifier"></span> <span class="kind">class</span></span> <span class="symbol"><a href="JsonSortedBucketIO.html" title="API for reading and writing BigQuery TableRow JSON sorted-bucket files."><span class="name">JsonSortedBucketIO</span></a><span class="result"> extends <a href="../../../../../../scala/index.html#AnyRef=Object" name="scala.AnyRef" id="scala.AnyRef" class="extmbr">AnyRef</a></span></span><p class="shortcomment cmt">API for reading and writing BigQuery <code><span name="TableRow" class="extype">TableRow</span></code> JSON sorted-bucket files.</p></li><li class="indented0 " name="org.apache.beam.sdk.extensions.smb.MissingImplementationException" group="Ungrouped" fullComment="no" data-isabs="false" visbl="pub"><a id="MissingImplementationExceptionextendsRuntimeException" class="anchorToMember"></a><a id="MissingImplementationException:MissingImplementationException" class="anchorToMember"></a> <span class="permalink"><a href="../../../../../../org/apache/beam/sdk/extensions/smb/MissingImplementationException.html" title="Permalink"><i class="material-icons"></i></a></span> <span class="modifier_kind"><span class="modifier"></span> <span class="kind">class</span></span> <span class="symbol"><a href="MissingImplementationException.html" title=""><span class="name">MissingImplementationException</span></a><span class="result"> extends <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java/lang/RuntimeException.html#java.lang.RuntimeException" name="java.lang.RuntimeException" id="java.lang.RuntimeException" class="extype">RuntimeException</a></span></span></li><li class="indented0 " name="org.apache.beam.sdk.extensions.smb.MultiSourceKeyGroupReader" group="Ungrouped" fullComment="yes" data-isabs="false" visbl="pub"><a id="MultiSourceKeyGroupReader[KeyType]extendsObject" class="anchorToMember"></a><a id="MultiSourceKeyGroupReader[KeyType]:MultiSourceKeyGroupReader[KeyType]" class="anchorToMember"></a> <span class="permalink"><a href="../../../../../../org/apache/beam/sdk/extensions/smb/MultiSourceKeyGroupReader.html" title="Permalink"><i class="material-icons"></i></a></span> <span class="modifier_kind"><span class="modifier"></span> <span class="kind">class</span></span> <span class="symbol"><a href="MultiSourceKeyGroupReader.html" title=""><span class="name">MultiSourceKeyGroupReader</span></a><span class="tparams">[<span name="KeyType">KeyType</span>]</span><span class="result"> extends <a href="../../../../../../scala/index.html#AnyRef=Object" name="scala.AnyRef" id="scala.AnyRef" class="extmbr">AnyRef</a></span></span><p class="shortcomment cmt"></p><div class="fullcomment"><div class="comment cmt"></div><dl class="attributes block"><dt>Annotations</dt><dd><span class="name">@SuppressWarnings</span><span class="args">()</span> </dd></dl></div></li><li class="indented0 " name="org.apache.beam.sdk.extensions.smb.ParquetAvroFileOperations" group="Ungrouped" fullComment="no" data-isabs="false" visbl="pub"><a id="ParquetAvroFileOperations[ValueT]extendsFileOperations[ValueT]" class="anchorToMember"></a><a id="ParquetAvroFileOperations[ValueT]:ParquetAvroFileOperations[ValueT]" class="anchorToMember"></a> <span class="permalink"><a href="../../../../../../org/apache/beam/sdk/extensions/smb/ParquetAvroFileOperations.html" title="Permalink"><i class="material-icons"></i></a></span> <span class="modifier_kind"><span class="modifier"></span> <span class="kind">class</span></span> <span class="symbol"><a href="ParquetAvroFileOperations.html" title="org.apache.beam.sdk.extensions.smb.FileOperations implementation for Parquet files with Avro records."><span class="name">ParquetAvroFileOperations</span></a><span class="tparams">[<span name="ValueT">ValueT</span>]</span><span class="result"> extends <a href="FileOperations.html" name="org.apache.beam.sdk.extensions.smb.FileOperations" id="org.apache.beam.sdk.extensions.smb.FileOperations" class="extype">FileOperations</a>[<span name="org.apache.beam.sdk.extensions.smb.ParquetAvroFileOperations.ValueT" class="extype">ValueT</span>]</span></span><p class="shortcomment cmt"><code><a href="FileOperations.html" name="org.apache.beam.sdk.extensions.smb.FileOperations" id="org.apache.beam.sdk.extensions.smb.FileOperations" class="extype">org.apache.beam.sdk.extensions.smb.FileOperations</a></code> implementation for Parquet files with
Avro records.</p></li><li class="indented0 " name="org.apache.beam.sdk.extensions.smb.ParquetAvroSortedBucketIO" group="Ungrouped" fullComment="no" data-isabs="false" visbl="pub"><a id="ParquetAvroSortedBucketIOextendsObject" class="anchorToMember"></a><a id="ParquetAvroSortedBucketIO:ParquetAvroSortedBucketIO" class="anchorToMember"></a> <span class="permalink"><a href="../../../../../../org/apache/beam/sdk/extensions/smb/ParquetAvroSortedBucketIO.html" title="Permalink"><i class="material-icons"></i></a></span> <span class="modifier_kind"><span class="modifier"></span> <span class="kind">class</span></span> <span class="symbol"><a href="ParquetAvroSortedBucketIO.html" title="API for reading and writing Parquet sorted-bucket files as Avro."><span class="name">ParquetAvroSortedBucketIO</span></a><span class="result"> extends <a href="../../../../../../scala/index.html#AnyRef=Object" name="scala.AnyRef" id="scala.AnyRef" class="extmbr">AnyRef</a></span></span><p class="shortcomment cmt">API for reading and writing Parquet sorted-bucket files as Avro.</p></li><li class="indented0 " name="org.apache.beam.sdk.extensions.smb.ParquetBucketMetadata" group="Ungrouped" fullComment="no" data-isabs="false" visbl="pub"><a id="ParquetBucketMetadata[K1,K2,V]extendsBucketMetadata[K1,K2,V]" class="anchorToMember"></a><a id="ParquetBucketMetadata[K1,K2,V]:ParquetBucketMetadata[K1,K2,V]" class="anchorToMember"></a> <span class="permalink"><a href="../../../../../../org/apache/beam/sdk/extensions/smb/ParquetBucketMetadata.html" title="Permalink"><i class="material-icons"></i></a></span> <span class="modifier_kind"><span class="modifier"></span> <span class="kind">class</span></span> <span class="symbol"><a href="ParquetBucketMetadata.html" title=""><span class="name">ParquetBucketMetadata</span></a><span class="tparams">[<span name="K1">K1</span>, <span name="K2">K2</span>, <span name="V">V</span>]</span><span class="result"> extends <a href="BucketMetadata.html" name="org.apache.beam.sdk.extensions.smb.BucketMetadata" id="org.apache.beam.sdk.extensions.smb.BucketMetadata" class="extype">BucketMetadata</a>[<span name="org.apache.beam.sdk.extensions.smb.ParquetBucketMetadata.K1" class="extype">K1</span>, <span name="org.apache.beam.sdk.extensions.smb.ParquetBucketMetadata.K2" class="extype">K2</span>, <span name="org.apache.beam.sdk.extensions.smb.ParquetBucketMetadata.V" class="extype">V</span>]</span></span></li><li class="indented0 " name="org.apache.beam.sdk.extensions.smb.ParquetInputFile" group="Ungrouped" fullComment="no" data-isabs="false" visbl="pub"><a id="ParquetInputFileextendsInputFile" class="anchorToMember"></a><a id="ParquetInputFile:ParquetInputFile" class="anchorToMember"></a> <span class="permalink"><a href="../../../../../../org/apache/beam/sdk/extensions/smb/ParquetInputFile.html" title="Permalink"><i class="material-icons"></i></a></span> <span class="modifier_kind"><span class="modifier"></span> <span class="kind">class</span></span> <span class="symbol"><a href="ParquetInputFile.html" title=""><span class="name">ParquetInputFile</span></a><span class="result"> extends <a href="https://javadoc.io/page/org.apache.parquet/parquet-common/1.12.3/org/apache/parquet/io/InputFile.html#org.apache.parquet.io.InputFile" name="org.apache.parquet.io.InputFile" id="org.apache.parquet.io.InputFile" class="extype">InputFile</a></span></span></li><li class="indented0 " name="org.apache.beam.sdk.extensions.smb.ParquetOutputFile" group="Ungrouped" fullComment="no" data-isabs="false" visbl="pub"><a id="ParquetOutputFileextendsOutputFile" class="anchorToMember"></a><a id="ParquetOutputFile:ParquetOutputFile" class="anchorToMember"></a> <span class="permalink"><a href="../../../../../../org/apache/beam/sdk/extensions/smb/ParquetOutputFile.html" title="Permalink"><i class="material-icons"></i></a></span> <span class="modifier_kind"><span class="modifier"></span> <span class="kind">class</span></span> <span class="symbol"><a href="ParquetOutputFile.html" title=""><span class="name">ParquetOutputFile</span></a><span class="result"> extends <a href="https://javadoc.io/page/org.apache.parquet/parquet-common/1.12.3/org/apache/parquet/io/OutputFile.html#org.apache.parquet.io.OutputFile" name="org.apache.parquet.io.OutputFile" id="org.apache.parquet.io.OutputFile" class="extype">OutputFile</a></span></span></li><li class="indented0 " name="org.apache.beam.sdk.extensions.smb.ParquetTypeFileOperations" group="Ungrouped" fullComment="no" data-isabs="false" visbl="pub"><a id="ParquetTypeFileOperations[T]extendsFileOperations[T]withProductwithSerializable" class="anchorToMember"></a><a id="ParquetTypeFileOperations[T]:ParquetTypeFileOperations[T]" class="anchorToMember"></a> <span class="permalink"><a href="../../../../../../org/apache/beam/sdk/extensions/smb/ParquetTypeFileOperations.html" title="Permalink"><i class="material-icons"></i></a></span> <span class="modifier_kind"><span class="modifier"></span> <span class="kind">case class</span></span> <span class="symbol"><a href="ParquetTypeFileOperations.html" title=""><span class="name">ParquetTypeFileOperations</span></a><span class="tparams">[<span name="T">T</span>]</span><span class="params">(<span name="compression">compression: <a href="https://javadoc.io/page/org.apache.parquet/parquet-common/1.12.3/org/apache/parquet/hadoop/metadata/CompressionCodecName.html#org.apache.parquet.hadoop.metadata.CompressionCodecName" name="org.apache.parquet.hadoop.metadata.CompressionCodecName" id="org.apache.parquet.hadoop.metadata.CompressionCodecName" class="extype">CompressionCodecName</a></span>, <span name="conf">conf: <a href="https://javadoc.io/page/org.apache.beam/beam-sdks-java-io-hadoop-common/2.51.0/org/apache/beam/sdk/io/hadoop/SerializableConfiguration.html#org.apache.beam.sdk.io.hadoop.SerializableConfiguration" name="org.apache.beam.sdk.io.hadoop.SerializableConfiguration" id="org.apache.beam.sdk.io.hadoop.SerializableConfiguration" class="extype">SerializableConfiguration</a></span>, <span name="predicate">predicate: <a href="https://javadoc.io/page/org.apache.parquet/parquet-column/1.12.3/org/apache/parquet/filter2/predicate/FilterPredicate.html#org.apache.parquet.filter2.predicate.FilterPredicate" name="org.apache.parquet.filter2.predicate.FilterPredicate" id="org.apache.parquet.filter2.predicate.FilterPredicate" class="extype">FilterPredicate</a></span>)</span><span class="params">(<span class="implicit">implicit </span><span name="pt">pt: <a href="https://javadoc.io/page/com.spotify/magnolify-parquet_2.13/0.6.3/magnolify/parquet/ParquetType.html#magnolify.parquet.ParquetType" name="magnolify.parquet.ParquetType" id="magnolify.parquet.ParquetType" class="extype">ParquetType</a>[<span name="org.apache.beam.sdk.extensions.smb.ParquetTypeFileOperations.T" class="extype">T</span>]</span>, <span name="coder">coder: <a href="../../../../../../com/spotify/scio/coders/Coder.html" name="com.spotify.scio.coders.Coder" id="com.spotify.scio.coders.Coder" class="extype">Coder</a>[<span name="org.apache.beam.sdk.extensions.smb.ParquetTypeFileOperations.T" class="extype">T</span>]</span>)</span><span class="result"> extends <a href="FileOperations.html" name="org.apache.beam.sdk.extensions.smb.FileOperations" id="org.apache.beam.sdk.extensions.smb.FileOperations" class="extype">FileOperations</a>[<span name="org.apache.beam.sdk.extensions.smb.ParquetTypeFileOperations.T" class="extype">T</span>] with <a href="https://www.scala-lang.org/api/2.13.12/scala/Product.html#scala.Product" name="scala.Product" id="scala.Product" class="extype">Product</a> with <a href="../../../../../../scala/index.html#Serializable=java.io.Serializable" name="scala.Serializable" id="scala.Serializable" class="extmbr">Serializable</a></span></span></li><li class="indented0 " name="org.apache.beam.sdk.extensions.smb.SMBFilenamePolicy" group="Ungrouped" fullComment="yes" data-isabs="false" visbl="pub"><a id="SMBFilenamePolicyextendsSerializable" class="anchorToMember"></a><a id="SMBFilenamePolicy:SMBFilenamePolicy" class="anchorToMember"></a> <span class="permalink"><a href="../../../../../../org/apache/beam/sdk/extensions/smb/SMBFilenamePolicy.html" title="Permalink"><i class="material-icons"></i></a></span> <span class="modifier_kind"><span class="modifier">final </span> <span class="kind">class</span></span> <span class="symbol"><a href="SMBFilenamePolicy.html" title="Naming policy for SMB files, similar to org.apache.beam.sdk.io.FileBasedSink.FilenamePolicy."><span class="name">SMBFilenamePolicy</span></a><span class="result"> extends <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java/io/Serializable.html#java.io.Serializable" name="java.io.Serializable" id="java.io.Serializable" class="extype">Serializable</a></span></span><p class="shortcomment cmt">Naming policy for SMB files, similar to <code><span name="" class="extype">org.apache.beam.sdk.io.FileBasedSink.FilenamePolicy</span></code>.</p><div class="fullcomment"><div class="comment cmt"><p>Naming policy for SMB files, similar to <code><span name="" class="extype">org.apache.beam.sdk.io.FileBasedSink.FilenamePolicy</span></code>.</p><p>File names are assigned uniquely per <code><a href="BucketShardId.html" name="org.apache.beam.sdk.extensions.smb.BucketShardId" id="org.apache.beam.sdk.extensions.smb.BucketShardId" class="extype">BucketShardId</a></code>. This class functions differently
for the initial write to temp files, and the move of those files to their final destination. This
is because temp writes need to be idempotent in case of bundle failure, and are thus timestamped
to ensure an uncorrupted write result when a bundle succeeds.
</p></div></div></li><li class="indented0 " name="org.apache.beam.sdk.extensions.smb.SortedBucketIO" group="Ungrouped" fullComment="yes" data-isabs="false" visbl="pub"><a id="SortedBucketIOextendsObject" class="anchorToMember"></a><a id="SortedBucketIO:SortedBucketIO" class="anchorToMember"></a> <span class="permalink"><a href="../../../../../../org/apache/beam/sdk/extensions/smb/SortedBucketIO.html" title="Permalink"><i class="material-icons"></i></a></span> <span class="modifier_kind"><span class="modifier"></span> <span class="kind">class</span></span> <span class="symbol"><a href="SortedBucketIO.html" title="Sorted-bucket files are PCollections written with SortedBucketSink that can be efficiently merged without shuffling with SortedBucketSource."><span class="name">SortedBucketIO</span></a><span class="result"> extends <a href="../../../../../../scala/index.html#AnyRef=Object" name="scala.AnyRef" id="scala.AnyRef" class="extmbr">AnyRef</a></span></span><p class="shortcomment cmt">Sorted-bucket files are <code>PCollection<V></code>s written with <code><a href="SortedBucketSink.html" name="org.apache.beam.sdk.extensions.smb.SortedBucketSink" id="org.apache.beam.sdk.extensions.smb.SortedBucketSink" class="extype">SortedBucketSink</a></code> that can be
efficiently merged without shuffling with <code><a href="SortedBucketSource.html" name="org.apache.beam.sdk.extensions.smb.SortedBucketSource" id="org.apache.beam.sdk.extensions.smb.SortedBucketSource" class="extype">SortedBucketSource</a></code>.</p><div class="fullcomment"><div class="comment cmt"><p>Sorted-bucket files are <code>PCollection<V></code>s written with <code><a href="SortedBucketSink.html" name="org.apache.beam.sdk.extensions.smb.SortedBucketSink" id="org.apache.beam.sdk.extensions.smb.SortedBucketSink" class="extype">SortedBucketSink</a></code> that can be
efficiently merged without shuffling with <code><a href="SortedBucketSource.html" name="org.apache.beam.sdk.extensions.smb.SortedBucketSource" id="org.apache.beam.sdk.extensions.smb.SortedBucketSource" class="extype">SortedBucketSource</a></code>. When writing, values are
grouped by key into buckets, sorted by key within a bucket, and written to files. When reading,
key-values in matching buckets are read in a merge-sort style, reducing shuffle.
</p></div></div></li><li class="indented0 " name="org.apache.beam.sdk.extensions.smb.SortedBucketOptions" group="Ungrouped" fullComment="yes" data-isabs="true" visbl="pub"><a id="SortedBucketOptionsextendsPipelineOptions" class="anchorToMember"></a><a id="SortedBucketOptions:SortedBucketOptions" class="anchorToMember"></a> <span class="permalink"><a href="../../../../../../org/apache/beam/sdk/extensions/smb/SortedBucketOptions.html" title="Permalink"><i class="material-icons"></i></a></span> <span class="modifier_kind"><span class="modifier"></span> <span class="kind">trait</span></span> <span class="symbol"><a href="SortedBucketOptions.html" title=""><span class="name">SortedBucketOptions</span></a><span class="result"> extends <a href="https://javadoc.io/page/org.apache.beam/beam-sdks-java-core/2.51.0/org/apache/beam/sdk/options/PipelineOptions.html#org.apache.beam.sdk.options.PipelineOptions" name="org.apache.beam.sdk.options.PipelineOptions" id="org.apache.beam.sdk.options.PipelineOptions" class="extype">PipelineOptions</a></span></span><div class="fullcomment"><dl class="attributes block"><dt>Annotations</dt><dd><span class="name">@Description</span><span class="args">()</span> </dd></dl></div></li><li class="indented0 " name="org.apache.beam.sdk.extensions.smb.SortedBucketOptionsRegistrar" group="Ungrouped" fullComment="yes" data-isabs="false" visbl="pub"><a id="SortedBucketOptionsRegistrarextendsPipelineOptionsRegistrar" class="anchorToMember"></a><a id="SortedBucketOptionsRegistrar:SortedBucketOptionsRegistrar" class="anchorToMember"></a> <span class="permalink"><a href="../../../../../../org/apache/beam/sdk/extensions/smb/SortedBucketOptionsRegistrar.html" title="Permalink"><i class="material-icons"></i></a></span> <span class="modifier_kind"><span class="modifier"></span> <span class="kind">class</span></span> <span class="symbol"><a href="SortedBucketOptionsRegistrar.html" title=""><span class="name">SortedBucketOptionsRegistrar</span></a><span class="result"> extends <a href="https://javadoc.io/page/org.apache.beam/beam-sdks-java-core/2.51.0/org/apache/beam/sdk/options/PipelineOptionsRegistrar.html#org.apache.beam.sdk.options.PipelineOptionsRegistrar" name="org.apache.beam.sdk.options.PipelineOptionsRegistrar" id="org.apache.beam.sdk.options.PipelineOptionsRegistrar" class="extype">PipelineOptionsRegistrar</a></span></span><div class="fullcomment"><dl class="attributes block"><dt>Annotations</dt><dd><span class="name">@AutoService</span><span class="args">()</span> </dd></dl></div></li><li class="indented0 " name="org.apache.beam.sdk.extensions.smb.SortedBucketPrimaryAndSecondaryKeyedSource" group="Ungrouped" fullComment="no" data-isabs="false" visbl="pub"><a id="SortedBucketPrimaryAndSecondaryKeyedSource[K1,K2]extendsSortedBucketSource[org.apache.beam.sdk.values.KV[K1,K2]]" class="anchorToMember"></a><a id="SortedBucketPrimaryAndSecondaryKeyedSource[K1,K2]:SortedBucketPrimaryAndSecondaryKeyedSource[K1,K2]" class="anchorToMember"></a> <span class="permalink"><a href="../../../../../../org/apache/beam/sdk/extensions/smb/SortedBucketPrimaryAndSecondaryKeyedSource.html" title="Permalink"><i class="material-icons"></i></a></span> <span class="modifier_kind"><span class="modifier"></span> <span class="kind">class</span></span> <span class="symbol"><a href="SortedBucketPrimaryAndSecondaryKeyedSource.html" title=""><span class="name">SortedBucketPrimaryAndSecondaryKeyedSource</span></a><span class="tparams">[<span name="K1">K1</span>, <span name="K2">K2</span>]</span><span class="result"> extends <a href="SortedBucketSource.html" name="org.apache.beam.sdk.extensions.smb.SortedBucketSource" id="org.apache.beam.sdk.extensions.smb.SortedBucketSource" class="extype">SortedBucketSource</a>[<a href="https://javadoc.io/page/org.apache.beam/beam-sdks-java-core/2.51.0/org/apache/beam/sdk/values/KV.html#org.apache.beam.sdk.values.KV" name="org.apache.beam.sdk.values.KV" id="org.apache.beam.sdk.values.KV" class="extype">KV</a>[<span name="org.apache.beam.sdk.extensions.smb.SortedBucketPrimaryAndSecondaryKeyedSource.K1" class="extype">K1</span>, <span name="org.apache.beam.sdk.extensions.smb.SortedBucketPrimaryAndSecondaryKeyedSource.K2" class="extype">K2</span>]]</span></span></li><li class="indented0 " name="org.apache.beam.sdk.extensions.smb.SortedBucketPrimaryKeyedSource" group="Ungrouped" fullComment="no" data-isabs="false" visbl="pub"><a id="SortedBucketPrimaryKeyedSource[K]extendsSortedBucketSource[K]" class="anchorToMember"></a><a id="SortedBucketPrimaryKeyedSource[K]:SortedBucketPrimaryKeyedSource[K]" class="anchorToMember"></a> <span class="permalink"><a href="../../../../../../org/apache/beam/sdk/extensions/smb/SortedBucketPrimaryKeyedSource.html" title="Permalink"><i class="material-icons"></i></a></span> <span class="modifier_kind"><span class="modifier"></span> <span class="kind">class</span></span> <span class="symbol"><a href="SortedBucketPrimaryKeyedSource.html" title=""><span class="name">SortedBucketPrimaryKeyedSource</span></a><span class="tparams">[<span name="K">K</span>]</span><span class="result"> extends <a href="SortedBucketSource.html" name="org.apache.beam.sdk.extensions.smb.SortedBucketSource" id="org.apache.beam.sdk.extensions.smb.SortedBucketSource" class="extype">SortedBucketSource</a>[<span name="org.apache.beam.sdk.extensions.smb.SortedBucketPrimaryKeyedSource.K" class="extype">K</span>]</span></span></li><li class="indented0 " name="org.apache.beam.sdk.extensions.smb.SortedBucketSink" group="Ungrouped" fullComment="yes" data-isabs="false" visbl="pub"><a id="SortedBucketSink[K1,K2,V]extendsPTransform[org.apache.beam.sdk.values.PCollection[V],org.apache.beam.sdk.extensions.smb.SortedBucketSink.WriteResult]" class="anchorToMember"></a><a id="SortedBucketSink[K1,K2,V]:SortedBucketSink[K1,K2,V]" class="anchorToMember"></a> <span class="permalink"><a href="../../../../../../org/apache/beam/sdk/extensions/smb/SortedBucketSink.html" title="Permalink"><i class="material-icons"></i></a></span> <span class="modifier_kind"><span class="modifier"></span> <span class="kind">class</span></span> <span class="symbol"><a href="SortedBucketSink.html" title="A PTransform for writing a PCollection to file-based sink, where files represent &quot;buckets&quot; of elements deterministically assigned by BucketMetadata based on a key extraction function."><span class="name">SortedBucketSink</span></a><span class="tparams">[<span name="K1">K1</span>, <span name="K2">K2</span>, <span name="V">V</span>]</span><span class="result"> extends <a href="https://javadoc.io/page/org.apache.beam/beam-sdks-java-core/2.51.0/org/apache/beam/sdk/transforms/PTransform.html#org.apache.beam.sdk.transforms.PTransform" name="org.apache.beam.sdk.transforms.PTransform" id="org.apache.beam.sdk.transforms.PTransform" class="extype">PTransform</a>[<a href="https://javadoc.io/page/org.apache.beam/beam-sdks-java-core/2.51.0/org/apache/beam/sdk/values/PCollection.html#org.apache.beam.sdk.values.PCollection" name="org.apache.beam.sdk.values.PCollection" id="org.apache.beam.sdk.values.PCollection" class="extype">PCollection</a>[<span name="org.apache.beam.sdk.extensions.smb.SortedBucketSink.V" class="extype">V</span>], <span name="org.apache.beam.sdk.extensions.smb.SortedBucketSink.WriteResult" class="extype">WriteResult</span>]</span></span><p class="shortcomment cmt">A <code><span name="PTransform" class="extype">PTransform</span></code> for writing a <code><span name="PCollection" class="extype">PCollection</span></code> to file-based sink, where files represent
"buckets" of elements deterministically assigned by <code><a href="BucketMetadata.html" name="org.apache.beam.sdk.extensions.smb.BucketMetadata" id="org.apache.beam.sdk.extensions.smb.BucketMetadata" class="extype">BucketMetadata</a></code> based on a key
extraction function.</p><div class="fullcomment"><div class="comment cmt"><p>A <code><span name="PTransform" class="extype">PTransform</span></code> for writing a <code><span name="PCollection" class="extype">PCollection</span></code> to file-based sink, where files represent
"buckets" of elements deterministically assigned by <code><a href="BucketMetadata.html" name="org.apache.beam.sdk.extensions.smb.BucketMetadata" id="org.apache.beam.sdk.extensions.smb.BucketMetadata" class="extype">BucketMetadata</a></code> based on a key
extraction function. The elements in each bucket are written in sorted order according to the
same key.</p><p>This transform is intended to be used in conjunction with the <code><a href="SortedBucketSource.html" name="org.apache.beam.sdk.extensions.smb.SortedBucketSource" id="org.apache.beam.sdk.extensions.smb.SortedBucketSource" class="extype">SortedBucketSource</a></code>
transform. Any two datasets written with <code><a href="SortedBucketSink.html" name="org.apache.beam.sdk.extensions.smb.SortedBucketSink" id="org.apache.beam.sdk.extensions.smb.SortedBucketSink" class="extype">SortedBucketSink</a></code> using the same bucketing scheme
can be joined by simply sequentially reading and merging files, thus eliminating the shuffle
required by <code><span name="GroupByKey" class="extype">GroupByKey</span></code>-based transforms. This is ideal for datasets that will be written
once and read many times with a predictable join key, i.e. user event data.</p><h5> Transform steps </h5><p><code><a href="SortedBucketSink.html" name="org.apache.beam.sdk.extensions.smb.SortedBucketSink" id="org.apache.beam.sdk.extensions.smb.SortedBucketSink" class="extype">SortedBucketSink</a></code> maps over each element, extracts a <code>byte[]</code> representation of
its sorting key using <code><span name="BucketMetadata#extractKeyPrimary(Object)" class="extype">BucketMetadata#extractKeyPrimary(Object)</span></code>, and assigns it to an
Integer bucket using <code><span name="BucketMetadata#getBucketId(byte[])" class="extype">BucketMetadata#getBucketId(byte[])</span></code>. Next, a <code><span name="GroupByKey" class="extype">GroupByKey</span></code>
transform is applied to create a <code><span name="PCollection" class="extype">PCollection</span></code> of <code>N</code> elements, where <code>N</code> is
the number of buckets specified by <code><span name="BucketMetadata#getNumBuckets()" class="extype">BucketMetadata#getNumBuckets()</span></code>, then a <code>
SortBucketShard</code> transform is used to sort elements within each bucket group, optionally sorting
by the secondary key bytes from <code><span name="BucketMetadata#getKeyBytesSecondary(Object)" class="extype">BucketMetadata#getKeyBytesSecondary(Object)</span></code>. Finally, the
write operation is performed, where each bucket is first written to a <code><span name="" class="extype">SortedBucketSink#tempDirectory</span></code> and then copied to its final destination.</p><p>A JSON-serialized form of <code><a href="BucketMetadata.html" name="org.apache.beam.sdk.extensions.smb.BucketMetadata" id="org.apache.beam.sdk.extensions.smb.BucketMetadata" class="extype">BucketMetadata</a></code> is also written, which is required in order
to join <code><a href="SortedBucketSink.html" name="org.apache.beam.sdk.extensions.smb.SortedBucketSink" id="org.apache.beam.sdk.extensions.smb.SortedBucketSink" class="extype">SortedBucketSink</a></code>s using the <code><a href="SortedBucketSource.html" name="org.apache.beam.sdk.extensions.smb.SortedBucketSource" id="org.apache.beam.sdk.extensions.smb.SortedBucketSource" class="extype">SortedBucketSource</a></code> transform.</p><h5> Bucketing properties and hot keys </h5><p>Bucketing properties are specified in <code><a href="BucketMetadata.html" name="org.apache.beam.sdk.extensions.smb.BucketMetadata" id="org.apache.beam.sdk.extensions.smb.BucketMetadata" class="extype">BucketMetadata</a></code>. The number of buckets, <code>
N</code>, must be a power of two and should be chosen such that each bucket can fit in a worker node's
memory. Note that the <code>SortValues</code> transform will try to sort in-memory and fall back to an
<code><span name="ExternalSorter" class="extype">ExternalSorter</span></code> if needed.</p><p>Each bucket can be further sharded to reduce the impact of hot keys, by specifying <code><span name="" class="extype">BucketMetadata#getNumShards()</span></code>.
</p></div></div></li><li class="indented0 " name="org.apache.beam.sdk.extensions.smb.SortedBucketSource" group="Ungrouped" fullComment="yes" data-isabs="true" visbl="pub"><a id="SortedBucketSource[KeyType]extendsBoundedSource[org.apache.beam.sdk.values.KV[KeyType,org.apache.beam.sdk.transforms.join.CoGbkResult]]" class="anchorToMember"></a><a id="SortedBucketSource[KeyType]:SortedBucketSource[KeyType]" class="anchorToMember"></a> <span class="permalink"><a href="../../../../../../org/apache/beam/sdk/extensions/smb/SortedBucketSource.html" title="Permalink"><i class="material-icons"></i></a></span> <span class="modifier_kind"><span class="modifier">abstract </span> <span class="kind">class</span></span> <span class="symbol"><a href="SortedBucketSource.html" title="A PTransform for co-grouping sources written using compatible SortedBucketSink transforms."><span class="name">SortedBucketSource</span></a><span class="tparams">[<span name="KeyType">KeyType</span>]</span><span class="result"> extends <a href="https://javadoc.io/page/org.apache.beam/beam-sdks-java-core/2.51.0/org/apache/beam/sdk/io/BoundedSource.html#org.apache.beam.sdk.io.BoundedSource" name="org.apache.beam.sdk.io.BoundedSource" id="org.apache.beam.sdk.io.BoundedSource" class="extype">BoundedSource</a>[<a href="https://javadoc.io/page/org.apache.beam/beam-sdks-java-core/2.51.0/org/apache/beam/sdk/values/KV.html#org.apache.beam.sdk.values.KV" name="org.apache.beam.sdk.values.KV" id="org.apache.beam.sdk.values.KV" class="extype">KV</a>[<span name="org.apache.beam.sdk.extensions.smb.SortedBucketSource.KeyType" class="extype">KeyType</span>, <a href="https://javadoc.io/page/org.apache.beam/beam-sdks-java-core/2.51.0/org/apache/beam/sdk/transforms/join/CoGbkResult.html#org.apache.beam.sdk.transforms.join.CoGbkResult" name="org.apache.beam.sdk.transforms.join.CoGbkResult" id="org.apache.beam.sdk.transforms.join.CoGbkResult" class="extype">CoGbkResult</a>]]</span></span><p class="shortcomment cmt">A <code><span name="PTransform" class="extype">PTransform</span></code> for co-grouping sources written using compatible <code><a href="SortedBucketSink.html" name="org.apache.beam.sdk.extensions.smb.SortedBucketSink" id="org.apache.beam.sdk.extensions.smb.SortedBucketSink" class="extype">SortedBucketSink</a></code>
transforms.</p><div class="fullcomment"><div class="comment cmt"><p>A <code><span name="PTransform" class="extype">PTransform</span></code> for co-grouping sources written using compatible <code><a href="SortedBucketSink.html" name="org.apache.beam.sdk.extensions.smb.SortedBucketSink" id="org.apache.beam.sdk.extensions.smb.SortedBucketSink" class="extype">SortedBucketSink</a></code>
transforms. It differs from <code><a href="https://javadoc.io/page/org.apache.beam/beam-sdks-java-core/2.51.0/org/apache/beam/sdk/transforms/join/CoGroupByKey.html" name="org.apache.beam.sdk.transforms.join.CoGroupByKey" id="org.apache.beam.sdk.transforms.join.CoGroupByKey" class="extype">org.apache.beam.sdk.transforms.join.CoGroupByKey</a></code> because no
shuffle step is required, since the source files are written in pre-sorted order. Instead,
matching buckets' files are sequentially read in a merge-sort style, and outputs resulting value
groups as <code><a href="https://javadoc.io/page/org.apache.beam/beam-sdks-java-core/2.51.0/org/apache/beam/sdk/transforms/join/CoGbkResult.html" name="org.apache.beam.sdk.transforms.join.CoGbkResult" id="org.apache.beam.sdk.transforms.join.CoGbkResult" class="extype">org.apache.beam.sdk.transforms.join.CoGbkResult</a></code>.</p><h5> Source compatibility </h5><p>Each of the <code><span name="BucketedInput" class="extype">BucketedInput</span></code> sources must use the same key function and hashing scheme.
Since <code><a href="SortedBucketSink.html" name="org.apache.beam.sdk.extensions.smb.SortedBucketSink" id="org.apache.beam.sdk.extensions.smb.SortedBucketSink" class="extype">SortedBucketSink</a></code> writes an additional file representing <code><a href="BucketMetadata.html" name="org.apache.beam.sdk.extensions.smb.BucketMetadata" id="org.apache.beam.sdk.extensions.smb.BucketMetadata" class="extype">BucketMetadata</a></code>,
<code><a href="SortedBucketSource.html" name="org.apache.beam.sdk.extensions.smb.SortedBucketSource" id="org.apache.beam.sdk.extensions.smb.SortedBucketSource" class="extype">SortedBucketSource</a></code> begins by reading each metadata file and using <code><span name="" class="extype">BucketMetadata#isCompatibleWith(BucketMetadata)</span></code> to check compatibility.</p><p>The number of buckets, <code>N</code>, does not have to match across sources. Since that value is
required be to a power of 2, all values of <code>N</code> are compatible, albeit requiring a fan-out
from the source with smallest <code>N</code>.
</p></div></div></li><li class="indented0 " name="org.apache.beam.sdk.extensions.smb.SortedBucketTransform" group="Ungrouped" fullComment="no" data-isabs="false" visbl="pub"><a id="SortedBucketTransform[FinalKeyT,FinalValueT]extendsPTransform[org.apache.beam.sdk.values.PBegin,org.apache.beam.sdk.extensions.smb.SortedBucketSink.WriteResult]" class="anchorToMember"></a><a id="SortedBucketTransform[FinalKeyT,FinalValueT]:SortedBucketTransform[FinalKeyT,FinalValueT]" class="anchorToMember"></a> <span class="permalink"><a href="../../../../../../org/apache/beam/sdk/extensions/smb/SortedBucketTransform.html" title="Permalink"><i class="material-icons"></i></a></span> <span class="modifier_kind"><span class="modifier"></span> <span class="kind">class</span></span> <span class="symbol"><a href="SortedBucketTransform.html" title="A PTransform that encapsulates both a SortedBucketSource and SortedBucketSink operation, with a user-supplied transform function mapping merged CoGbkResults to their final writable outputs."><span class="name">SortedBucketTransform</span></a><span class="tparams">[<span name="FinalKeyT">FinalKeyT</span>, <span name="FinalValueT">FinalValueT</span>]</span><span class="result"> extends <a href="https://javadoc.io/page/org.apache.beam/beam-sdks-java-core/2.51.0/org/apache/beam/sdk/transforms/PTransform.html#org.apache.beam.sdk.transforms.PTransform" name="org.apache.beam.sdk.transforms.PTransform" id="org.apache.beam.sdk.transforms.PTransform" class="extype">PTransform</a>[<a href="https://javadoc.io/page/org.apache.beam/beam-sdks-java-core/2.51.0/org/apache/beam/sdk/values/PBegin.html#org.apache.beam.sdk.values.PBegin" name="org.apache.beam.sdk.values.PBegin" id="org.apache.beam.sdk.values.PBegin" class="extype">PBegin</a>, <span name="org.apache.beam.sdk.extensions.smb.SortedBucketSink.WriteResult" class="extype">WriteResult</span>]</span></span><p class="shortcomment cmt">A <code><span name="PTransform" class="extype">PTransform</span></code> that encapsulates both a <code><a href="SortedBucketSource.html" name="org.apache.beam.sdk.extensions.smb.SortedBucketSource" id="org.apache.beam.sdk.extensions.smb.SortedBucketSource" class="extype">SortedBucketSource</a></code> and <code><span name="" class="extype">SortedBucketSink</span></code> operation, with a user-supplied transform function mapping merged <code><span name="" class="extype">CoGbkResult</span></code>s to their final writable outputs.</p></li><li class="indented0 " name="org.apache.beam.sdk.extensions.smb.TFRecordCodec" group="Ungrouped" fullComment="yes" data-isabs="false" visbl="pub"><a id="TFRecordCodecextendsObject" class="anchorToMember"></a><a id="TFRecordCodec:TFRecordCodec" class="anchorToMember"></a> <span class="permalink"><a href="../../../../../../org/apache/beam/sdk/extensions/smb/TFRecordCodec.html" title="Permalink"><i class="material-icons"></i></a></span> <span class="modifier_kind"><span class="modifier"></span> <span class="kind">class</span></span> <span class="symbol"><a href="TFRecordCodec.html" title="Codec for TFRecords file format."><span class="name">TFRecordCodec</span></a><span class="result"> extends <a href="../../../../../../scala/index.html#AnyRef=Object" name="scala.AnyRef" id="scala.AnyRef" class="extmbr">AnyRef</a></span></span><p class="shortcomment cmt">Codec for TFRecords file format.</p><div class="fullcomment"><div class="comment cmt"><p>Codec for TFRecords file format. See
https://www.tensorflow.org/api_guides/python/python_io#TFRecords_Format_Details
</p></div><dl class="attributes block"><dt>Annotations</dt><dd><span class="name">@<a href="../../../../../../com/spotify/scio/smb/annotations/PatchedFromBeam.html" name="com.spotify.scio.smb.annotations.PatchedFromBeam" id="com.spotify.scio.smb.annotations.PatchedFromBeam" class="extype">PatchedFromBeam</a></span><span class="args">()</span> </dd></dl></div></li><li class="indented0 " name="org.apache.beam.sdk.extensions.smb.TargetParallelism" group="Ungrouped" fullComment="yes" data-isabs="true" visbl="pub"><a id="TargetParallelismextendsSerializable" class="anchorToMember"></a><a id="TargetParallelism:TargetParallelism" class="anchorToMember"></a> <span class="permalink"><a href="../../../../../../org/apache/beam/sdk/extensions/smb/TargetParallelism.html" title="Permalink"><i class="material-icons"></i></a></span> <span class="modifier_kind"><span class="modifier">abstract </span> <span class="kind">class</span></span> <span class="symbol"><a href="TargetParallelism.html" title="Represents the desired parallelism of an SMB read operation."><span class="name">TargetParallelism</span></a><span class="result"> extends <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java/io/Serializable.html#java.io.Serializable" name="java.io.Serializable" id="java.io.Serializable" class="extype">Serializable</a></span></span><p class="shortcomment cmt">Represents the desired parallelism of an SMB read operation.</p><div class="fullcomment"><div class="comment cmt"><p>Represents the desired parallelism of an SMB read operation. For a given set of sources,
targetParallelism can be set to any number between the least and greatest numbers of buckets
among sources. This can be dynamically configured using <code><span name="TargetParallelism#min()" class="extype">TargetParallelism#min()</span></code> or <code><span name="" class="extype">TargetParallelism#max()</span></code>, which at graph construction time will determine the least or greatest
amount of parallelism based on sources. Alternately, <code><span name="TargetParallelism#of(int)" class="extype">TargetParallelism#of(int)</span></code> can be
used to statically configure a custom value, or <code><span name="TargetParallelism#auto()" class="extype">TargetParallelism#auto()</span></code> can be used to
let the runner decide how to split the SMB read at runtime based on the combined byte size of the
inputs.</p><p>If no value is specified, SMB read operations will use Auto parallelism.</p><p>When selecting a target parallelism for your SMB operation, there are tradeoffs to consider:</p><p>- Minimal parallelism means a fewer number of workers merging data from potentially many
buckets. For example, if source A has 4 buckets and source B has 64, a minimally parallel SMB
read would have 4 workers, each one merging 1 bucket from source A and 16 buckets from source B.
This read may have low throughput. - Maximal parallelism means that each bucket is read by at
least one worker. For example, if source A has 4 buckets and source B has 64, a maximally
parallel SMB read would have 64 workers, each one merging 1 bucket from source B and 1 bucket
from source A, replicated 16 times. This may have better throughput than the minimal example, but
more expensive because every key group from the replicated sources must be re-hashed to avoid
emitting duplicate records. - A custom parallelism in the middle of these bounds may be the best
balance of speed and computing cost.
</p></div></div></li><li class="indented0 " name="org.apache.beam.sdk.extensions.smb.TensorFlowBucketIO" group="Ungrouped" fullComment="no" data-isabs="false" visbl="pub"><a id="TensorFlowBucketIOextendsObject" class="anchorToMember"></a><a id="TensorFlowBucketIO:TensorFlowBucketIO" class="anchorToMember"></a> <span class="permalink"><a href="../../../../../../org/apache/beam/sdk/extensions/smb/TensorFlowBucketIO.html" title="Permalink"><i class="material-icons"></i></a></span> <span class="modifier_kind"><span class="modifier"></span> <span class="kind">class</span></span> <span class="symbol"><a href="TensorFlowBucketIO.html" title="API for reading and writing sorted-bucket TensorFlow TFRecord files with TensorFlow Example records."><span class="name">TensorFlowBucketIO</span></a><span class="result"> extends <a href="../../../../../../scala/index.html#AnyRef=Object" name="scala.AnyRef" id="scala.AnyRef" class="extmbr">AnyRef</a></span></span><p class="shortcomment cmt">API for reading and writing sorted-bucket TensorFlow TFRecord files with TensorFlow <code><span name="" class="extype">Example</span></code> records.</p></li><li class="indented0 " name="org.apache.beam.sdk.extensions.smb.TensorFlowBucketMetadata" group="Ungrouped" fullComment="no" data-isabs="false" visbl="pub"><a id="TensorFlowBucketMetadata[K1,K2]extendsBucketMetadata[K1,K2,org.tensorflow.proto.example.Example]" class="anchorToMember"></a><a id="TensorFlowBucketMetadata[K1,K2]:TensorFlowBucketMetadata[K1,K2]" class="anchorToMember"></a> <span class="permalink"><a href="../../../../../../org/apache/beam/sdk/extensions/smb/TensorFlowBucketMetadata.html" title="Permalink"><i class="material-icons"></i></a></span> <span class="modifier_kind"><span class="modifier"></span> <span class="kind">class</span></span> <span class="symbol"><a href="TensorFlowBucketMetadata.html" title="BucketMetadata for TensorFlow Example records."><span class="name">TensorFlowBucketMetadata</span></a><span class="tparams">[<span name="K1">K1</span>, <span name="K2">K2</span>]</span><span class="result"> extends <a href="BucketMetadata.html" name="org.apache.beam.sdk.extensions.smb.BucketMetadata" id="org.apache.beam.sdk.extensions.smb.BucketMetadata" class="extype">BucketMetadata</a>[<span name="org.apache.beam.sdk.extensions.smb.TensorFlowBucketMetadata.K1" class="extype">K1</span>, <span name="org.apache.beam.sdk.extensions.smb.TensorFlowBucketMetadata.K2" class="extype">K2</span>, <a href="https://javadoc.io/page/org.tensorflow/tensorflow-core-api/0.4.2/org/tensorflow/proto/example/Example.html#org.tensorflow.proto.example.Example" name="org.tensorflow.proto.example.Example" id="org.tensorflow.proto.example.Example" class="extype">Example</a>]</span></span><p class="shortcomment cmt"><code><a href="BucketMetadata.html" name="org.apache.beam.sdk.extensions.smb.BucketMetadata" id="org.apache.beam.sdk.extensions.smb.BucketMetadata" class="extype">BucketMetadata</a></code> for TensorFlow <code><span name="Example" class="extype">Example</span></code> records.</p></li><li class="indented0 " name="org.apache.beam.sdk.extensions.smb.TensorFlowFileOperations" group="Ungrouped" fullComment="no" data-isabs="false" visbl="pub"><a id="TensorFlowFileOperationsextendsFileOperations[org.tensorflow.proto.example.Example]" class="anchorToMember"></a><a id="TensorFlowFileOperations:TensorFlowFileOperations" class="anchorToMember"></a> <span class="permalink"><a href="../../../../../../org/apache/beam/sdk/extensions/smb/TensorFlowFileOperations.html" title="Permalink"><i class="material-icons"></i></a></span> <span class="modifier_kind"><span class="modifier"></span> <span class="kind">class</span></span> <span class="symbol"><a href="TensorFlowFileOperations.html" title="org.apache.beam.sdk.extensions.smb.FileOperations implementation for TensorFlow TFRecord files with TensorFlow Example records."><span class="name">TensorFlowFileOperations</span></a><span class="result"> extends <a href="FileOperations.html" name="org.apache.beam.sdk.extensions.smb.FileOperations" id="org.apache.beam.sdk.extensions.smb.FileOperations" class="extype">FileOperations</a>[<a href="https://javadoc.io/page/org.tensorflow/tensorflow-core-api/0.4.2/org/tensorflow/proto/example/Example.html#org.tensorflow.proto.example.Example" name="org.tensorflow.proto.example.Example" id="org.tensorflow.proto.example.Example" class="extype">Example</a>]</span></span><p class="shortcomment cmt"><code><a href="FileOperations.html" name="org.apache.beam.sdk.extensions.smb.FileOperations" id="org.apache.beam.sdk.extensions.smb.FileOperations" class="extype">org.apache.beam.sdk.extensions.smb.FileOperations</a></code> implementation for TensorFlow TFRecord
files with TensorFlow <code><span name="Example" class="extype">Example</span></code> records.</p></li></ol></div><div class="values members"><h3>Value Members</h3><ol><li class="indented0 " name="org.apache.beam.sdk.extensions.smb.ParquetTypeFileOperations" group="Ungrouped" fullComment="no" data-isabs="false" visbl="pub"><a id="ParquetTypeFileOperations" class="anchorToMember"></a><a id="ParquetTypeFileOperations:ParquetTypeFileOperations" class="anchorToMember"></a> <span class="permalink"><a href="../../../../../../org/apache/beam/sdk/extensions/smb/ParquetTypeFileOperations$.html" title="Permalink"><i class="material-icons"></i></a></span> <span class="modifier_kind"><span class="modifier"></span> <span class="kind">object</span></span> <span class="symbol"><a href="ParquetTypeFileOperations$.html" title=""><span class="name">ParquetTypeFileOperations</span></a><span class="result"> extends <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java/io/Serializable.html#java.io.Serializable" name="java.io.Serializable" id="java.io.Serializable" class="extype">Serializable</a></span></span></li><li class="indented0 " name="org.apache.beam.sdk.extensions.smb.ParquetTypeSortedBucketIO" group="Ungrouped" fullComment="no" data-isabs="false" visbl="pub"><a id="ParquetTypeSortedBucketIO" class="anchorToMember"></a><a id="ParquetTypeSortedBucketIO:ParquetTypeSortedBucketIO" class="anchorToMember"></a> <span class="permalink"><a href="../../../../../../org/apache/beam/sdk/extensions/smb/ParquetTypeSortedBucketIO$.html" title="Permalink"><i class="material-icons"></i></a></span> <span class="modifier_kind"><span class="modifier"></span> <span class="kind">object</span></span> <span class="symbol"><a href="ParquetTypeSortedBucketIO$.html" title=""><span class="name">ParquetTypeSortedBucketIO</span></a></span></li></ol></div></div><div id="inheritedMembers"></div><div id="groupedMembers"><div name="Ungrouped" class="group"><h3>Ungrouped</h3></div></div></div><div id="tooltip"></div><div id="footer"></div></body></div></div></div></body></html>
